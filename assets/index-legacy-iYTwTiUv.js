System.register(["./chakra-legacy-Yg8__E4w.js","./react-legacy-Tu6V0i_1.js"],(function(e,t){"use strict";var r,n,o,a,i,s,l,c,d,u,p,h,g,f,m,v,y,b,x,w,S,j,k,C,_,O,R,P,L,A,E,M,I,z,T,N,B,$,V,D,F,W,H,G,U,K,Y,J,X,q,Q,Z,ee,te,re,ne,oe,ae,ie,se,le,ce,de,ue,pe,he,ge,fe,me,ve,ye,be,xe,we,Se,je,ke,Ce,_e,Oe,Re,Pe,Le,Ae,Ee,Me,Ie,ze,Te,Ne,Be,$e,Ve,De,Fe,We,He,Ge,Ue,Ke,Ye,Je,Xe,qe,Qe,Ze,et,tt,rt,nt,ot,at,it,st,lt,ct,dt,ut,pt,ht,gt,ft,mt;return{setters:[e=>{r=e.G,n=e.u,o=e.a,a=e.j,i=e.P,s=e.c,l=e.F,c=e.b,d=e.f,u=e.n,p=e.r,h=e.d,g=e.e,f=e.i,m=e.o,v=e.g,y=e.B,b=e.D,x=e.I,w=e.h,S=e.k,j=e.S,k=e.l,C=e.W,_=e.m,O=e.p,R=e.q,P=e.C,L=e.s,A=e.t,E=e.v,M=e.w,I=e.x,z=e.y,T=e.z,N=e.A,B=e.E,$=e.H,V=e.J,D=e.K,F=e.L,W=e.M,H=e.N,G=e.T,U=e.O,K=e.Q,Y=e.R,J=e.U,X=e.V,q=e.X,Q=e.Y,Z=e.Z,ee=e._,te=e.$,re=e.a0,ne=e.a1,oe=e.a2,ae=e.a3,ie=e.a4,se=e.a5,le=e.a6,ce=e.a7,de=e.a8,ue=e.a9,pe=e.aa,he=e.ab,ge=e.ac,fe=e.ad,me=e.ae,ve=e.af,ye=e.ag,be=e.ah,xe=e.ai,we=e.aj,Se=e.ak,je=e.al,ke=e.am,Ce=e.an,_e=e.ao,Oe=e.ap,Re=e.aq,Pe=e.ar,Le=e.as,Ae=e.at,Ee=e.au,Me=e.av,Ie=e.aw,ze=e.ax,Te=e.ay,Ne=e.az,Be=e.aA,$e=e.aB,Ve=e.aC,De=e.aD,Fe=e.aE,We=e.aF,He=e.aG,Ge=e.aH,Ue=e.aI,Ke=e.aJ,Ye=e.aK,Je=e.aL,Xe=e.aM,qe=e.aN,Qe=e.aO,Ze=e.aP,et=e.aQ,tt=e.aR,rt=e.aS},e=>{nt=e.b,ot=e.r,at=e.R,it=e.d,st=e.e,lt=e.f,ct=e.h,dt=e.i,ut=e.u,pt=e.j,ht=e.k,gt=e.l,ft=e.P,mt=e.I}],execute:function(){const e=e=>new Promise((t=>{setTimeout(t,e,`Timeout after ${e/1e3} seconds`)}));var t;!function(e){e.DEV="DEV",e.UAT="UAT",e.PRD="PRD"}(t||(t={}));const vt="rmg-runtime__language",yt="rmg-runtime__colourMode",bt="rmg-runtime__allowAnalytics",xt="rmg-unknown";var wt=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};let St,jt,kt,Ct,_t;const Ot=()=>{St=!1,jt=xt,kt="unknown",Ct=t.PRD,_t="unknown"},Rt=()=>"railmapgen.github.io"===jt;Ot();const Pt={loadWithTimeout:()=>wt(void 0,void 0,void 0,(function*(){try{console.log("[runtime] Loading config...");const t=yield Promise.race([wt(void 0,void 0,void 0,(function*(){const e=window.location.pathname.split("/")[1],t=e?`/${e}/info.json`:"/info.json",r=yield fetch(t);if(!r.ok)throw new Error(`Failed to fetch config from ${t}`);{const e=yield r.json();jt=e.component,kt=e.version,Ct=e.environment,_t=e.instance}})),e(1e4)]);t?console.error("[runtime] Failed to load config.",t):(St=!0,console.log("[runtime] Config loaded!"))}catch(t){console.error("[runtime] Failed to load config.",t)}})),isInitialised:()=>St,getComponent:()=>Rt()?"rmg-home":jt,getVersion:()=>kt,getEnvironment:()=>Ct,getInstance:()=>_t,isRMT:Rt,_resetConfig:Ot};function Lt(...e){if(Pt.getEnvironment()!==t.DEV)return window.dataLayer.push(arguments);console.log("[runtime] Not going to send event in DEV environment",e)}window.dataLayer=window.dataLayer||[];const At={init:()=>{(()=>{const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(e)})(),Lt("js",new Date),Lt("config","G-2HP8Y4MRRQ",{appName:Pt.getComponent(),version:Pt.getVersion(),environment:Pt.getEnvironment(),instance:Pt.getInstance()})},customEvent:(e,t)=>{Lt("event",e,t)}},Et={};let Mt;try{Mt=new BroadcastChannel("rmg-runtime-channel"),Mt.onmessage=e=>{var t;const{event:r,data:n,frameId:o}=e.data;null===(t=Et[r])||void 0===t||t.forEach((e=>e(n,o)))}}catch(Kc){console.warn("[runtime] Failed to initiate broadcast channel. Some features may be unavailable.",Kc)}const It={postEvent:(e,t,r)=>{var n;r&&console.log(`[runtime] Broadcasting event ${e} with data`,t),null==Mt||Mt.postMessage({event:e,data:t,frameId:null===(n=window.frameElement)||void 0===n?void 0:n.id})},onMessage:(e,t)=>{var r;e in Et?null===(r=Et[e])||void 0===r||r.push(t):Et[e]=[t]}},zt="TOGGLE_NAV_MENU",Tt="OPEN_APP",Nt="CLOSE_APP",Bt="UPDATE_URL",$t=()=>!window.frameElement,Vt={isStandaloneWindow:$t,injectUITools:()=>{if(!$t()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const e=document.createElement("style");e.textContent=".rmg-window__header:not(.rmg-window__app-clip-header){margin-left: 40px;}",$t()||(()=>{var e;return!!(null===(e=window.frameElement)||void 0===e?void 0:e.closest(".show-menu"))})()||document.head.appendChild(e),$t()||It.onMessage(zt,(t=>{if(t)try{document.head.removeChild(e)}catch(Kc){console.warn("[runtime] Unable to remove indent style from RmgWindowHeader",Kc)}else document.head.appendChild(e)}))},openApp:(e,t)=>{It.postEvent(Tt,{appId:e,url:t})},onAppOpen:e=>{It.onMessage(Tt,e)},closeApp:e=>{It.postEvent(Nt,e)},onAppClose:e=>{It.onMessage(Nt,e)},updateUrl:e=>{It.postEvent(Bt,e)},onUrlUpdate:e=>{It.onMessage(Bt,e)},toggleNavMenu:e=>{It.postEvent(zt,e,!0)}},Dt="SET_LANGUAGE",Ft="SET_COLOUR_MODE",Wt=["light","dark","system"],Ht=()=>"true"===window.localStorage.getItem(bt),Gt={setLanguage:e=>{It.postEvent(Dt,e),window.localStorage.setItem(vt,e)},getLanguage:()=>window.localStorage.getItem(vt)||"en",onLanguageChange:e=>{It.onMessage(Dt,e)},setColourMode:e=>{Wt.includes(e)&&(It.postEvent(Ft,e,!0),window.localStorage.setItem(yt,e))},getColourMode:()=>{const e=window.localStorage.getItem(yt);return e&&Wt.includes(e)?e:"system"},onColourModeChange:e=>{It.onMessage(Ft,e)},isAnalyticsQADone:()=>null!==window.localStorage.getItem(bt),isAllowAnalytics:Ht,allowAnalytics:e=>{const t=Ht();return e?(t||(window.localStorage.setItem(bt,e.toString()),At.init()),{refreshRequired:!1}):t?(window.localStorage.setItem(bt,e.toString()),{refreshRequired:!0}):{refreshRequired:!1}}},Ut=(new Date).getTime(),Kt={getMsSinceStartUp:function(){const e=Pt.getComponent(),t=window.localStorage.getItem(e+"__startTime");return null===t?(new Date).getTime()-Ut:(new Date).getTime()-Number(t)}},Yt={},Jt=()=>{const e=Pt.getComponent();if(e===xt)throw new Error("[runtime] Unable to clear storage for unknown app");return e};window.addEventListener("storage",(e=>{var t;const{key:r,newValue:n}=e;r&&(null===(t=Yt[r])||void 0===t||t.forEach((e=>e(n))))}));const Xt={on:(e,t)=>{var r;const n=`${Jt()}__${e}`;n in Yt?null===(r=Yt[n])||void 0===r||r.push(t):Yt[n]=[t]},get:e=>{const t=Jt();return window.localStorage.getItem(`${t}__${e}`)},getAll:()=>{const e=Jt(),t={};let r=0;for(;r<window.localStorage.length;){const n=window.localStorage.key(r);if(null==n?void 0:n.startsWith(e+"__")){const e=window.localStorage.getItem(n);e&&(t[n]=e)}r++}return t},set:(e,t)=>{const r=Jt();window.localStorage.setItem(`${r}__${e}`,t)},remove:e=>{const t=Jt();window.localStorage.removeItem(`${t}__${e}`)},clear:()=>{const e=Jt();let t=0;for(;t<window.localStorage.length;){const r=window.localStorage.key(t);(null==r?void 0:r.startsWith(e+"__"))?(window.localStorage.removeItem(r),console.log(`[runtime] Removed item ${r}`)):t++}}},qt={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Qt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||qt,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Qt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Qt(this.logger,e)}}var Zt=new Qt;class er{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach((e=>{let[t,n]=e;for(let o=0;o<n;o++)t(...r)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((t=>{let[n,o]=t;for(let a=0;a<o;a++)n.apply(n,[e,...r])}))}}function tr(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return r.resolve=e,r.reject=t,r}function rr(e){return null==e?"":""+e}const nr=/###/g;function or(e,t,r){function n(e){return e&&e.indexOf("###")>-1?e.replace(nr,"."):e}function o(){return!e||"string"==typeof e}const a="string"!=typeof t?t:t.split(".");let i=0;for(;i<a.length-1;){if(o())return{};const t=n(a[i]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return o()?{}:{obj:e,k:n(a[i])}}function ar(e,t,r){const{obj:n,k:o}=or(e,t,Object);n[o]=r}function ir(e,t){const{obj:r,k:n}=or(e,t);if(r)return r[n]}function sr(e,t,r){for(const n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?r&&(e[n]=t[n]):sr(e[n],t[n],r):e[n]=t[n]);return e}function lr(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var cr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function dr(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>cr[e])):e}const ur=[" ",",","?","!",";"],pr=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20);function hr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let o=e;for(let a=0;a<n.length;){if(!o||"object"!=typeof o)return;let e,t="";for(let i=a;i<n.length;++i)if(i!==a&&(t+=r),t+=n[i],e=o[t],void 0!==e){a+=i-a+1;break}o=e}return o}function gr(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class fr extends er{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],r&&(Array.isArray(r)?i.push(...r):"string"==typeof r&&o?i.push(...r.split(o)):i.push(r)));const s=ir(this.data,i);return s||!a||"string"!=typeof r?s:hr(this.data&&this.data[e]&&this.data[e][t],r,o)}addResource(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const a=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let i=[e,t];r&&(i=i.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(i=e.split("."),n=t,t=i[1]),this.addNamespaces(t),ar(this.data,i,n),o.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in r)"string"!=typeof r[o]&&"[object Array]"!==Object.prototype.toString.apply(r[o])||this.addResource(e,t,o,r[o],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),n=r,r=t,t=i[1]),this.addNamespaces(t);let s=ir(this.data,i)||{};n?sr(s,r,o):s={...s,...r},ar(this.data,i,s),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var mr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,r,n,o))})),t}};const vr={};class yr extends er{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,r){e.forEach((e=>{t[e]&&(r[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Zt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,r){t=t||"",r=r||"";const n=ur.filter((e=>t.indexOf(e)<0&&r.indexOf(e)<0));if(0===n.length)return!0;const o=pr.getRegExp(`(${n.map((e=>"?"===e?"\\?":e)).join("|")})`);let a=!o.test(e);if(!a){const t=e.indexOf(r);t>0&&!o.test(e.substring(0,t))&&(a=!0)}return a}(e,r,n));if(a&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const a=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),e=a.join(n)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:i}=this.extractFromKey(e[e.length-1],t),s=i[i.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${s}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:a}const d=this.resolve(e,t);let u=d&&d.res;const p=d&&d.usedKey||a,h=d&&d.exactUsedKey||a,g=Object.prototype.toString.apply(u),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&u&&"string"!=typeof u&&"boolean"!=typeof u&&"number"!=typeof u&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof f||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,u,{...t,ns:i}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(o){const e="[object Array]"===g,r=e?[]:{},n=e?h:p;for(const a in u)if(Object.prototype.hasOwnProperty.call(u,a)){const e=`${n}${o}${a}`;r[a]=this.translate(e,{...t,joinArrays:!1,ns:i}),r[a]===e&&(r[a]=u[a])}u=r}}else if(m&&"string"==typeof f&&"[object Array]"===g)u=u.join(f),u&&(u=this.extendTranslation(u,e,t,r));else{let n=!1,i=!1;const c=void 0!==t.count&&"string"!=typeof t.count,p=yr.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(l,t.count,t):"",g=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=f&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(u)&&p&&(n=!0,u=m),this.isValidLookup(u)||(i=!0,u=a);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:u,y=p&&m!==u&&this.options.updateMissing;if(i||n||y){if(this.logger.log(y?"updateKey":"missingKey",l,s,a,y?m:u),o){const e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const n=(e,r,n)=>{const o=p&&n!==u?n:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,r,o,y,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,r,o,y,t),this.emit("missingKey",e,s,r,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const r=this.pluralResolver.getSuffixes(e,t);f&&t[`defaultValue${this.options.pluralSeparator}zero`]&&r.indexOf(`${this.options.pluralSeparator}zero`)<0&&r.push(`${this.options.pluralSeparator}zero`),r.forEach((r=>{n([e],a+r,t[`defaultValue${r}`]||m)}))})):n(e,a,m))}u=this.extendTranslation(u,e,t,d,r),i&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${s}:${a}`),(i||n)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${a}`:a,n?u:void 0):this.options.parseMissingKeyHandler(u))}return n?(d.res=u,d.usedParams=this.getUsedParamsDetails(t),d):u}extendTranslation(e,t,r,n,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const i="string"==typeof e&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(i){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,r.lng||this.language,r),i){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(r.lng=n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return o&&o[0]===n[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):a.translate(...n,t)}),r)),r.interpolation&&this.interpolator.reset()}const i=r.postProcess||this.options.postProcess,s="string"==typeof i?[i]:i;return null!=e&&s&&s.length&&!1!==r.applyPostProcessor&&(e=mr.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t,r,n,o,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,i),l=s.key;r=l;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==i.count&&"string"!=typeof i.count,u=d&&!i.ordinal&&0===i.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==i.context&&("string"==typeof i.context||"number"==typeof i.context)&&""!==i.context,h=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(a=e,!vr[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(vr[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((r=>{if(this.isValidLookup(t))return;o=r;const a=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,r,e,i);else{let e;d&&(e=this.pluralResolver.getSuffix(r,i.count,i));const t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(a.push(l+e),i.ordinal&&0===e.indexOf(n)&&a.push(l+e.replace(n,this.options.pluralSeparator)),u&&a.push(l+t)),p){const r=`${l}${this.options.contextSeparator}${i.context}`;a.push(r),d&&(a.push(r+e),i.ordinal&&0===e.indexOf(n)&&a.push(r+e.replace(n,this.options.pluralSeparator)),u&&a.push(r+t))}}let s;for(;s=a.pop();)this.isValidLookup(t)||(n=s,t=this.getResource(r,e,s,i))})))}))})),{res:t,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&"string"!=typeof e.replace;let n=r?e.replace:e;if(r&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const e of t)delete n[e]}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}function br(e){return e.charAt(0).toUpperCase()+e.slice(1)}class xr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zt.create("languageUtils")}getScriptPartFromCode(e){if(!(e=gr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=gr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map((e=>e.toLowerCase())):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=br(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=br(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=br(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find((e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],o=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((e=>{n.indexOf(e)<0&&o(this.formatLanguageCode(e))})),n}}let wr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Sr={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const jr=["v1","v2","v3"],kr=["v4"],Cr={zero:0,one:1,two:2,few:3,many:4,other:5};class _r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Zt.create("pluralResolver"),this.options.compatibilityJSON&&!kr.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return wr.forEach((t=>{t.lngs.forEach((r=>{e[r]={numbers:t.nr,plurals:Sr[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(gr("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort(((e,t)=>Cr[e]-Cr[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):r.numbers.map((r=>this.getSuffix(e,r,t))):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));const o=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!jr.includes(this.options.compatibilityJSON)}}function Or(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=function(e,t,r){const n=ir(e,r);return void 0!==n?n:ir(t,r)}(e,t,r);return!a&&o&&"string"==typeof r&&(a=hr(e,r,n),void 0===a&&(a=hr(t,r,n))),a}class Rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Zt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:dr,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?lr(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?lr(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?lr(t.nestingPrefix):t.nestingPrefixEscaped||lr("$t("),this.nestingSuffix=t.nestingSuffix?lr(t.nestingSuffix):t.nestingSuffixEscaped||lr(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let o,a,i;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}const c=e=>{if(e.indexOf(this.formatSeparator)<0){const o=Or(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,r,{...n,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),a=o.shift().trim(),i=o.join(this.formatSeparator).trim();return this.format(Or(t,s,a,this.options.keySeparator,this.options.ignoreJSONStructure),i,r,{...n,...t,interpolationkey:a})};this.resetRegExp();const d=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,u=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}].forEach((t=>{for(i=0;o=t.regex.exec(e);){const r=o[1].trim();if(a=c(r),void 0===a)if("function"==typeof d){const t=d(e,o,n);a="string"==typeof t?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))a="";else{if(u){a=o[0];continue}this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),a=""}else"string"==typeof a||this.useRawValueToEscape||(a=rr(a));const s=t.safeValue(a);if(e=e.replace(o[0],s),u?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,i++,i>=this.maxReplaces)break}})),e}nest(e,t){let r,n,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function i(e,t){const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const n=e.split(new RegExp(`${r}[ ]*{`));let a=`{${n[1]}`;e=n[0],a=this.interpolate(a,o);const i=a.match(/'/g),s=a.match(/"/g);(i&&i.length%2==0&&!s||s.length%2!=0)&&(a=a.replace(/'/g,'"'));try{o=JSON.parse(a),t&&(o={...t,...o})}catch(Kc){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,Kc),`${e}${r}${a}`}return delete o.defaultValue,e}for(;r=this.nestingRegexp.exec(e);){let s=[];o={...a},o=o.replace&&"string"!=typeof o.replace?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map((e=>e.trim()));r[1]=e.shift(),s=e,l=!0}if(n=t(i.call(this,r[1].trim(),o),o),n&&r[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=rr(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),l&&(n=s.reduce(((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:r[1].trim()})),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}function Pr(e){const t={};return function(r,n,o){const a=n+JSON.stringify(o);let i=t[a];return i||(i=e(gr(n),o),t[a]=i),i(r)}}class Lr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Zt.create("formatter"),this.options=e,this.formats={number:Pr(((e,t)=>{const r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)})),currency:Pr(((e,t)=>{const r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)})),datetime:Pr(((e,t)=>{const r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)})),relativetime:Pr(((e,t)=>{const r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")})),list:Pr(((e,t)=>{const r=new Intl.ListFormat(e,{...t});return e=>r.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Pr(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:o,formatOptions:a}=function(e){let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const o=n[1].substring(0,n[1].length-1);"currency"===t&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach((e=>{if(!e)return;const[t,...n]=e.split(":"),o=n.join(":").trim().replace(/^'+|'+$/g,"");r[t.trim()]||(r[t.trim()]=o),"false"===o&&(r[t.trim()]=!1),"true"===o&&(r[t.trim()]=!0),isNaN(o)||(r[t.trim()]=parseInt(o,10))}))}return{formatName:t,formatOptions:r}}(t);if(this.formats[o]){let t=e;try{const i=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},s=i.locale||i.lng||n.locale||n.lng||r;t=this.formats[o](e,s,{...a,...n,...i})}catch(i){this.logger.warn(i)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e)}}class Ar extends er{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=Zt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,n.backend,n)}queueLoad(e,t,r,n){const o={},a={},i={},s={};return e.forEach((e=>{let n=!0;t.forEach((t=>{const i=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===a[i]&&(a[i]=!0):(this.state[i]=1,n=!1,void 0===a[i]&&(a[i]=!0),void 0===o[i]&&(o[i]=!0),void 0===s[t]&&(s[t]=!0)))})),n||(i[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(s)}}loaded(e,t,r){const n=e.split("|"),o=n[0],a=n[1];t&&this.emit("failedLoading",o,a,t),r&&this.store.addResourceBundle(o,a,r),this.state[e]=t?-1:2;const i={};this.queue.forEach((r=>{!function(e,t,r,n){const{obj:o,k:a}=or(e,t,Object);o[a]=o[a]||[],n&&(o[a]=o[a].concat(r)),n||o[a].push(r)}(r.loaded,[o],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach((e=>{i[e]||(i[e]={});const t=r.loaded[e];t.length&&t.forEach((t=>{void 0===i[e][t]&&(i[e][t]=!0)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((e=>!e.done))}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:o,callback:a});this.readingCalls++;const i=(i,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&s&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,r,n+1,2*o,a)}),o):a(i,s)},s=this.backend[r].bind(this.backend);if(2!==s.length)return s(e,t,i);try{const r=s(e,t);r&&"function"==typeof r.then?r.then((e=>i(null,e))).catch(i):i(null,r)}catch(l){i(l)}}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const o=this.queueLoad(e,t,r,n);if(!o.toLoad.length)return o.pending.length||n(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),n=r[0],o=r[1];this.read(n,o,"read",void 0,void 0,((r,a)=>{r&&this.logger.warn(`${t}loading namespace ${o} for language ${n} failed`,r),!r&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${n}`,a),this.loaded(e,r,a)}))}saveMissing(e,t,r,n,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=r&&""!==r){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let o;o=5===c.length?c(e,t,r,n,l):c(e,t,r,n),o&&"function"==typeof o.then?o.then((e=>i(null,e))).catch(i):i(null,o)}catch(s){i(s)}else c(e,t,r,n,i,l)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}function Er(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach((e=>{t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Mr(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ir(){}class zr extends er{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=Mr(e),this.services={},this.logger=Zt,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=Er();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options={...n,...this.options,...Mr(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?Zt.init(o(this.modules.logger),this.options):Zt.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Lr);const r=new xr(this.options);this.store=new fr(this.options.resources,this.options);const a=this.services;a.logger=Zt,a.resourceStore=this.store,a.languageUtils=r,a.pluralResolver=new _r(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(a.formatter=o(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Rr(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new Ar(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new yr(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,r||(r=Ir),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const a=tr(),i=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?i():setTimeout(i,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir;const r="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],n=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};r?n(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>n(e))),this.options.preload&&this.options.preload.forEach((e=>n(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,r){const n=tr();return e||(e=this.languages),t||(t=this.options.ns),r||(r=Ir),this.services.backendConnector.reload(e,t,(e=>{n.resolve(),r(e)})),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&mr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const n=tr();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(o(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,n.resolve((function(){return r.t(...arguments)})),t&&t(e,(function(){return r.t(...arguments)}))},i=t=>{e||t||!this.services.languageDetector||(t=[]);const r="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||o(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,(e=>{a(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),n}getFixedT(e,t,r){var n=this;const o=function(e,t){let a;if("object"!=typeof t){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];a=n.options.overloadTranslationOptionHandler([e,t].concat(s))}else a={...t};a.lng=a.lng||o.lng,a.lngs=a.lngs||o.lngs,a.ns=a.ns||o.ns,a.keyPrefix=a.keyPrefix||r||o.keyPrefix;const c=n.options.keySeparator||".";let d;return d=a.keyPrefix&&Array.isArray(e)?e.map((e=>`${a.keyPrefix}${c}${e}`)):a.keyPrefix?`${a.keyPrefix}${c}${e}`:e,n.t(d,a)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const a=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||2===r};if(t.precheck){const e=t.precheck(this,a);if(void 0!==e)return e}return!(!this.hasResourceBundle(r,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(r,e)||n&&!a(o,e)))}loadNamespaces(e,t){const r=tr();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=tr();"string"==typeof e&&(e=[e]);const n=this.options.preload||[],o=e.filter((e=>n.indexOf(e)<0));return o.length?(this.options.preload=n.concat(o),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new xr(Er());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new zr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},o=new zr(n);return void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e)),["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new fr(this.store.data,n),o.services.resourceStore=o.store),o.translator=new yr(o.services,n),o.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit(e,...r)})),o.init(n,t),o.translator.options=n,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Tr=zr.createInstance();let Nr;Tr.createInstance=zr.createInstance,Tr.createInstance,Tr.dir,Tr.init,Tr.loadResources,Tr.reloadResources,Tr.use,Tr.changeLanguage,Tr.getFixedT,Tr.t,Tr.exists,Tr.setDefaultNamespace,Tr.hasLoadedNamespace,Tr.loadNamespaces,Tr.loadLanguages;var Br=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(Kc){a(Kc)}}function s(e){try{l(n.throw(e))}catch(Kc){a(Kc)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};let $r={};const Vr=e=>e.source.startsWith("local"),Dr=(e,t)=>{var r;return`@font-face {\n    font-family: '${e}';\n    src: ${t.source};\n    ${Object.entries(null!==(r=t.descriptors)&&void 0!==r?r:{}).map((([e,t])=>`${e}: ${t};`)).join("\n")}\n}`},Fr=(e,t)=>Br(void 0,void 0,void 0,(function*(){try{const r=new FontFace(e,t.source,t.descriptors);return Vr(t)&&(yield r.load()),document.fonts.add(r),$r[e]=[Object.assign(Object.assign({},t),{font:r})],!0}catch(Kc){return console.warn(`[runtime] Failed to load font ${e} with source ${t.source}`,Kc),!1}})),Wr=(e,t)=>Br(void 0,void 0,void 0,(function*(){if(t.some(Vr))return console.error(`[runtime] Unable to load multiple FontFace for the same family ${e}`),!1;const r=[];return t.forEach((t=>{const n=new FontFace(e,t.source,t.descriptors);document.fonts.add(n),r.push(Object.assign(Object.assign({},t),{font:n}))})),$r[e]=r,!0})),Hr={getLoadedFonts:()=>$r,_resetLoadedFonts:()=>$r={},loadFont:(e,...t)=>Br(void 0,void 0,void 0,(function*(){if(e in $r)return $r[e];for(const r of t)if(Array.isArray(r)?yield Wr(e,r):yield Fr(e,r))break;return $r[e]})),getFontCSS:e=>Br(void 0,void 0,void 0,(function*(){const t=$r[e];if(!t)throw new Error(`Font family ${e} is not loaded`);const r=yield Promise.all(t.filter((t=>{const r="loaded"===t.font.status;return r||console.warn(`[runtime] Font family ${e} is not loaded completely. Some FontFaceRules may be missing`),r})).map((t=>Br(void 0,void 0,void 0,(function*(){if(Vr(t))return Dr(e,t);const r=(e=>{var t;const r=null===(t=e.source.match(/url\(['"](\S+)['"]\)/))||void 0===t?void 0:t[1];if(!r)throw new Error("Invalid URL in source "+e.source);return new URL(r,window.location.origin)})(t),n=yield fetch(r),o=yield(a=yield n.blob(),new Promise((e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(a)})));var a;return Dr(e,Object.assign(Object.assign({},t),{source:`url('${o}')`}))})))));return r.join("\n\n")}))},Gr=()=>{if("PRD"!==Pt.getEnvironment()||!Pt.isRMT())if(document.querySelector('meta[name="robots"]'))console.log("[runtime] Noindex meta tag already presents.");else{console.log("[runtime] Injecting noindex meta tag as this app is not PRD RMT.");const e=document.createElement("meta");e.name="robots",e.content="noindex",document.head.appendChild(e)}};var Ur=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(Kc){a(Kc)}}function s(e){try{l(n.throw(e))}catch(Kc){a(Kc)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};let Kr=!1;const Yr={ready:()=>Ur(void 0,void 0,void 0,(function*(){let t=0;for(;t<=10&&!Kr;)yield e(1e3),t+=1})),getAppName:Pt.getComponent,getAppVersion:Pt.getVersion,getEnv:Pt.getEnvironment,getInstance:Pt.getInstance,event:At.customEvent,isStandaloneWindow:Vt.isStandaloneWindow,injectUITools:Vt.injectUITools,openApp:Vt.openApp,onAppOpen:Vt.onAppOpen,closeApp:Vt.closeApp,onAppClose:Vt.onAppClose,updateUrl:Vt.updateUrl,onUrlUpdate:Vt.onUrlUpdate,toggleNavMenu:Vt.toggleNavMenu,postEvent:It.postEvent,onMessage:It.onMessage,setLanguage:Gt.setLanguage,getLanguage:Gt.getLanguage,onLanguageChange:Gt.onLanguageChange,setColourMode:Gt.setColourMode,getColourMode:Gt.getColourMode,onColourModeChange:Gt.onColourModeChange,isAnalyticsQADone:Gt.isAnalyticsQADone,isAllowAnalytics:Gt.isAllowAnalytics,allowAnalytics:Gt.allowAnalytics,storage:{on:Xt.on,get:Xt.get,getAll:Xt.getAll,set:Xt.set,remove:Xt.remove,clear:Xt.clear},getMsSinceStartUp:Kt.getMsSinceStartUp,I18nBuilder:class{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return Tr.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach((([e,t])=>{this._defaultResources[e]=t})),this}withResource(e,t){return this._resources[e]=t,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach((([t,r])=>{e[t]={translation:r}})),Object.entries(this._resources).forEach((([t,r])=>{t in e?e[t].translation=Object.assign(Object.assign({},e[t].translation),r):e[t]={translation:r}})),e}build(){return Nr=Tr.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},((e,t)=>{var r;e?console.error("[runtime] unexpected error occurs while initialising i18n",e):(document.title=t(this._appName),document.documentElement.lang=null!==(r=this._lng)&&void 0!==r?r:"en")})),Nr.on("languageChanged",(e=>{document.title=Nr.t(this._appName),document.documentElement.lang=e})),(e=>{Gt.onLanguageChange((t=>e.changeLanguage(t)))})(Nr),Nr}},getI18nInstance:()=>Nr,getLoadedFonts:Hr.getLoadedFonts,loadFont:Hr.loadFont,getFontCSS:Hr.getFontCSS};var Jr;Ur(void 0,void 0,void 0,(function*(){yield Pt.loadWithTimeout(),Gr(),Gt.isAnalyticsQADone()?Gt.isAllowAnalytics()&&(console.log("[runtime] User has previously allowed GA"),At.init()):Vt.isStandaloneWindow()&&!Pt.isRMT()&&(console.warn("[runtime] App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),At.init()),Kr=!0})).then(),window.rmgRuntime=Yr;var Xr=nt;function qr(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(e)}function Qr(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(e)}function Zr(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(e)}function en(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 17 5-5-5-5-1.41 1.41L18.17 11H9v2h9.17l-2.58 2.59z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h14v2h2V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-2h-2v2z"},child:[]}]})(e)}function tn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(e)}function rn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]},{tag:"path",attr:{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},child:[]}]})(e)}function nn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"},child:[]}]})(e)}function on(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)}function an(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(e)}function sn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 0 1 7.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"},child:[]}]})(e)}function ln(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(e)}function cn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(e)}function dn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(e)}function un(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10zm-8.01-9-1.41 1.41L12.16 12H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9z"},child:[]}]})(e)}function pn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(e)}function hn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(e)}function gn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"},child:[]}]})(e)}function fn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"},child:[]}]})(e)}function mn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function vn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"},child:[]}]})(e)}function yn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(e)}function bn(e){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"},child:[]}]})(e)}Jr=Xr.createRoot,Xr.hydrateRoot;var xn=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),wn="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Sn="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),jn="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Sn):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},kn=["top","right","bottom","left","width","height","size","weight"],Cn="undefined"!=typeof MutationObserver,_n=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function a(){r&&(r=!1,e()),n&&s()}function i(){jn(a)}function s(){var e=Date.now();if(r){if(e-o<2)return;n=!0}else r=!0,n=!1,setTimeout(i,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){wn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Cn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){wn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;kn.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),On=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Rn=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Sn},Pn=zn(0,0,0,0);function Ln(e){return parseFloat(e)||0}function An(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+Ln(e["border-"+r+"-width"])}),0)}function En(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Pn;var n=Rn(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],a=e["padding-"+o];t[o]=Ln(a)}return t}(n),a=o.left+o.right,i=o.top+o.bottom,s=Ln(n.width),l=Ln(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==t&&(s-=An(n,"left","right")+a),Math.round(l+i)!==r&&(l-=An(n,"top","bottom")+i)),!function(e){return e===Rn(e).document.documentElement}(e)){var c=Math.round(s+a)-t,d=Math.round(l+i)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(d)&&(l-=d)}return zn(o.left,o.top,s,l)}var Mn="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Rn(e).SVGGraphicsElement}:function(e){return e instanceof Rn(e).SVGElement&&"function"==typeof e.getBBox};function In(e){return wn?Mn(e)?function(e){var t=e.getBBox();return zn(0,0,t.width,t.height)}(e):En(e):Pn}function zn(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Tn=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=zn(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=In(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Nn=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,o=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return On(i,{x:t,y:r,width:n,height:o,top:r,right:t+n,bottom:o+r,left:t}),i}(t);On(this,{target:e,contentRect:r})},Bn=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new xn,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Rn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Tn(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Rn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Nn(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$n="undefined"!=typeof WeakMap?new WeakMap:new xn,Vn=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=_n.getInstance(),n=new Bn(t,r,this);$n.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){Vn.prototype[e]=function(){var t;return(t=$n.get(this))[e].apply(t,arguments)}}));var Dn=void 0!==Sn.ResizeObserver?Sn.ResizeObserver:Vn;window.ResizeObserver||(window.ResizeObserver=Dn);var Fn=function(){return Fn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fn.apply(this,arguments)},Wn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},Hn=function(e){var t=e.isOpen,r=e.onClose,c=e.children,d=e.sx,u=e.size,p=e.zIndex,h=Wn(e,["isOpen","onClose","children","sx","size","zIndex"]),g=n("RmgAppClip",{size:u,zIndex:null!=p?p:1500}),f=ot.useRef(null);return o({ref:f,handler:r}),a.jsx(i,{children:a.jsxs(s.div,Fn({className:t?"show-app-clip":"",sx:g},h,{children:[a.jsx("div",{className:"rmg-app-clip__overlay"}),a.jsx(l,{isDisabled:!t,children:a.jsx("div",{className:"rmg-app-clip__container",children:a.jsx(s.section,{ref:f,role:"dialog",className:"rmg-app-clip__content",sx:d,children:c})})})]}))})},Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kn,Yn={exports:{}},Jn={};
/**
             * @license React
             * react-jsx-runtime.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */Yn.exports=function(){if(Kn)return Jn;Kn=1;var e=at,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,i){var s,l={},c=null,d=null;for(s in void 0!==i&&(c=""+i),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)n.call(r,s)&&!a.hasOwnProperty(s)&&(l[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===l[s]&&(l[s]=r[s]);return{$$typeof:t,type:e,key:c,ref:d,props:l,_owner:o.current}}return Jn.Fragment=r,Jn.jsx=i,Jn.jsxs=i,Jn}();var Xn=Yn.exports;const[qn,Qn]=c({name:"AutoCompleteContext",errorMessage:"useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`"});var Zn=function(e,t){for(var r,n=0,o=ot.Children.toArray(e);n<o.length;n++){var a=o[n];if(t(a))return a;if(null!==(r=a.props)&&void 0!==r&&r.children){var i=Zn(a.props.children,t);if(i)return i}}},eo=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},to=function(e,t){for(var r,n=[],o=0,a=ot.Children.toArray(e);o<a.length;o++){var i=a[o];t(i)&&(n=eo(eo([],n),[i])),null!==(r=i.props)&&void 0!==r&&r.children&&(n=eo(eo([],n),to(i.props.children,t)))}return n};function ro(e,t,r=2){function n(e,t){e=" ".repeat(t-1)+e.toLowerCase()+" ".repeat(t-1);let r=new Array(e.length-t+1);for(let n=0;n<r.length;n++)r[n]=e.slice(n,n+t);return r}if(null==e||!e.length||null==t||!t.length)return 0;let o=e.length<t.length?e:t,a=e.length<t.length?t:e,i=n(o,r),s=n(a,r),l=new Set(i),c=s.length,d=0;for(let u of s)l.delete(u)&&d++;return d/c}const no=e=>{var t;return null==(t="string"==typeof e||"number"==typeof e?e:e[Object.keys(e)[0]])?void 0:t.toString()},oo=(e,t)=>"string"!=typeof e||N(t)?e:e.toString().replace(new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(t),"gi"),(e=>`<mark>${e}</mark>`)),ao=(e,t,r)=>(null==t?void 0:t.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||(null==r?void 0:r.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||ro(e,t)>=.5||ro(e,r)>=.5,io=(e,t)=>{const r={},n={},{field:o}=e;return o&&Object.keys(o).forEach((e=>{if(!1===e.startsWith("--input"))r[e]=o[e];else{let t=o[e];const r=e.replace("--input-","").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));-1!==t.indexOf(".")&&(t=t.substring(t.indexOf(".")+1)),n[r]=t}})),{...t&&{...r,...n,_focusWithin:e.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}},so=(e,t)=>Zn(e,(e=>{var r;return"AutoCompleteItem"===(null==(r=null==e?void 0:e.type)?void 0:r.displayName)&&e.props.value===(null==t?void 0:t.value)})),lo=(e,t)=>Zn(e,(e=>{var r;return"AutoCompleteItem"===(null==(r=null==e?void 0:e.type)?void 0:r.displayName)&&e.props.value===(null==t?void 0:t.value)}));function co(e){var t,r;let{closeOnBlur:n=!0,creatable:o,emphasize:a,emptyState:i=!0,freeSolo:s,isReadOnly:l,listAllValuesOnFocus:c,maxSuggestions:d,multiple:u,closeOnSelect:h=!u,defaultValue:g,defaultValues:v=(g?[g]:[]),onReady:y,defaultIsOpen:b,disableFilter:x,isLoading:w=!1,placement:S="bottom",restoreOnBlurIfEmpty:j=!s,shouldRenderSuggestions:k=(()=>!0),submitKeys:C=[],suggestWhenEmpty:_,value:O,values:R=(O?"string"==typeof O?[O]:[...O]:void 0)}=e;s=s||!!u||e.freeSolo;const{isOpen:P,onClose:D,onOpen:F}=L({defaultIsOpen:b}),W=p(e.children,{isOpen:P,onClose:D,onOpen:F}),H=(e=>to(e,(e=>{var t;return"AutoCompleteItem"===(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})).map((e=>{const t=$(e.props,["value","label","fixed","disabled"]),{getValue:r=no}=e.props,n=r(t.value);return{...V(t.label)?t:{...t,label:n},value:n,originalValue:t.value}})))(W),G=ot.useRef(null),U=ot.useRef(null),K=ot.useRef(null),Y=ot.useRef(null),[J,X]=ot.useState(!1);let q="";u?q="":f(v)?f(R)||(q=R[0]):q=v[0];const[Q,Z]=ot.useState(null!==(t=q)&&void 0!==t?t:""),ee=x?H:H.filter((t=>t.fixed||p(e.filter||ao,Q,t.value,t.label)||J)).filter(((e,t)=>!d||e.fixed||t<d)),te=o?[{value:Q,noFilter:!0,creatable:!0}]:[],re=[...ee,...te],[ne,oe]=A({defaultValue:v.map((e=>null==e?void 0:e.toString())),value:R,onChange:t=>{const r=re.find((e=>e.value===t[0])),n=t.map((e=>re.find((t=>t.value===e))));p(e.onChange,u?t:t[0],u?n:r)}}),[ae,ie]=ot.useState(null==(r=H[0])?void 0:r.value),se=e.maxSelections||ne.length+1,le=re.findIndex((e=>e.value===ae)),ce=E(le,re,!!e.rollNavigation),de=M(le,re,!!e.rollNavigation),ue=I(re),pe=z(re);T((()=>{ie(null==ue?void 0:ue.value)}),[Q]),ot.useEffect((()=>{var e;P||ie(null==(e=H[0])?void 0:e.value)}),[P]),ot.useEffect((()=>{const t=H.find((e=>e.value===ae));p(e.onOptionFocus,{item:t,focusMethod:Y.current,isNewInput:null==t?void 0:t.creatable})}),[ae,e.onOptionFocus]);const he=t=>{var r,n;!ne.includes(t)&&ne.length<se&&oe((e=>u?[...e,t]:[t]));const o=re.find((e=>e.value===t));u&&(null==(r=G.current)||r.focus()),e.focusInputOnSelect&&(null==(n=G.current)||n.focus()),p(e.onSelectOption,{item:o,selectMethod:Y.current,isNewInput:null==o?void 0:o.creatable}),null!=o&&o.creatable&&p(e.onCreateOption,{item:m(o,["noFilter"]),selectMethod:Y.current});const a=(null==o?void 0:o.label)||(null==o?void 0:o.value);Z((()=>u?"":null!=a?a:"")),h&&D()},ge=(t,r)=>{var n;oe((r=>{const n=H.find((e=>e.value===t));return p(e.onTagRemoved,t,n,r),r.filter((e=>e!==t))})),Q===t&&Z(""),r&&(null==(n=G.current)||n.focus())},fe=u?ne.map((e=>{var t;return{label:(null==(t=H.find((t=>t.value===(null==e?void 0:e.toString()))))?void 0:t.label)||e,onRemove:()=>ge(e)}})):[];return ot.useEffect((()=>{p(y,{tags:fe})}),[ne]),{autoCompleteProps:e,children:W,filteredList:re,filteredResults:ee,focusedValue:ae,getEmptyStateProps:e=>{if(re.every((e=>e.noFilter))&&i&&!o)return"boolean"==typeof i?e:p(i,{query:Q})},getGroupProps:e=>{const t=((e,t)=>V(Zn(e,(e=>{var r,n;const o=p((null==(r=e.props)?void 0:r.getValue)||no,(null==(n=e.props)?void 0:n.value)||{});return t.some((e=>e.value===o))}))))(e.children,re);return{divider:{hasFirstChild:so(e.children,ue),hasLastChild:lo(e.children,z(re.filter((e=>f(null==e?void 0:e.noFilter)))))},group:{display:t?"initial":"none"}}},getInputProps:(t,r)=>{const{onBlur:o,onChange:a,onFocus:i,onKeyDown:s,variant:d,...h}=t;return{wrapper:{ref:U,onClick:()=>{var e;null==(e=null==G?void 0:G.current)||e.focus()},...io(r,u),...h},input:{isReadOnly:l,onFocus:t=>{p(i,t),e.openOnFocus&&!l&&F(),e.selectOnFocus&&t.target.select(),c&&X(!0)},onBlur:e=>{var t,r;p(o,e);const a=e.relatedTarget===(null==K?void 0:K.current)||(null==(t=K.current)?void 0:t.contains(e.relatedTarget)),i=null==(r=U.current)?void 0:r.contains(e.relatedTarget);if(!a&&!i&&(n&&D(),!ne.includes(e.target.value)&&j)){const e=z(ne),t=H.find((t=>t.value===e)),r=(null==t?void 0:t.label)||(null==t?void 0:t.value)||"";Z(r)}},onChange:e=>{const t=e.target.value;p(a,e),Z(t);const r=N(t);!p(k,t)||r&&!_?D():F(),X(!1)},onKeyDown:e=>{var t;p(s,e),Y.current="keyboard";const{key:r}=e,n=re[le];return["Enter",...C].includes(r)?(!n||null!=n&&n.disabled?null==(t=G.current)||t.focus():he(null==n?void 0:n.value),void e.preventDefault()):"ArrowDown"===r?(P?ie(null==ce?void 0:ce.value):F(),void e.preventDefault()):"ArrowUp"===r?(P?ie(null==de?void 0:de.value):F(),void e.preventDefault()):"Tab"!==r?"Home"===r?(ie(null==ue?void 0:ue.value),void e.preventDefault()):"End"===r?(ie(null==pe?void 0:pe.value),void e.preventDefault()):void("Escape"===r&&(D(),e.preventDefault())):void(!P||!n||null!=n&&n.disabled?D():he(null==n?void 0:n.value))},value:Q,variant:u?"unstyled":d,...h}}},getItemProps:(e,t)=>{var r;const{_fixed:n,_focus:o,children:i,disabled:s,label:l,value:c,fixed:d,getValue:u=no,onClick:h,onMouseOver:g,sx:f,...m}=e,v=t?c:null==(r=u(c))?void 0:r.toString(),y=v===ae,b=re.findIndex((e=>e.value===v))>=0,x=i||l||v;return{item:{..."string"==typeof x&&a?{dangerouslySetInnerHTML:{__html:oo(x,Q)}}:{children:x},"aria-selected":ne.includes(v),"aria-disabled":s,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:e=>{var t;p(h,e),s?null==(t=G.current)||t.focus():he(v)},onMouseOver:e=>{p(g,e),ie(v),Y.current="mouse"},sx:{...f,mark:{color:"inherit",bg:"transparent",...B(a)?a:{fontWeight:a?"extrabold":"inherit"}}},...y&&(o||{bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),...d&&n,...m},root:{isValidSuggestion:b,value:v}}},inputRef:G,interactionRef:Y,isLoading:w,isOpen:P,itemList:H,listRef:K,onClose:D,onOpen:F,placement:S,query:Q,removeItem:ge,resetItems:e=>{var t;oe([]),e&&(null==(t=G.current)||t.focus())},setQuery:Z,tags:fe,values:ne}}const uo=d(((e,t)=>{const r=co(e),{children:n,isOpen:o,onClose:a,onOpen:i,placement:l,resetItems:c,removeItem:d}=r;return ot.useImperativeHandle(t,(()=>({resetItems:c,removeItem:d}))),Xn.jsx(qn,{value:r,children:Xn.jsx(h,{isLazy:!0,isOpen:o,onClose:a,onOpen:i,autoFocus:!1,placement:l,closeOnBlur:!0,matchWidth:!0,children:Xn.jsx(s.div,{w:"full",ref:t,children:n})})})}));uo.displayName="AutoComplete";const po=d(((e,t)=>{const{focusedValue:r,getItemProps:n,interactionRef:o}=Qn(),a=ot.useRef(),i=g(t,a),s=n(e),{isValidSuggestion:l,value:c}=s.root,d=r===c;ot.useEffect((()=>{var e;d&&"keyboard"===o.current&&(null==(e=null==a?void 0:a.current)||e.scrollIntoView({behavior:"smooth",block:"center"}))}),[d,o]),ot.useEffect((()=>{"string"!=typeof c&&console.warn("wow"),"string"!=typeof c&&f(e.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")}),[]);const{children:u,dangerouslySetInnerHTML:p,...h}=s.item,y=m(h,["groupId"]);return l?Xn.jsx(v,{ref:i,...ho,...y,children:u||Xn.jsx("span",{dangerouslySetInnerHTML:p})}):null}));po.displayName="AutoCompleteItem";const ho={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},go=d(((e,t)=>{const{children:r,showDivider:n,...o}=e,a=m(o,["groupSibling"]),{getGroupProps:i}=Qn(),{group:s}=i(e),l=vo(e);return Xn.jsxs(y,{ref:t,...s,...a,children:[Xn.jsx(b,{...l.top}),r,Xn.jsx(b,{...l.bottom})]})})),fo=d(((e,t)=>Xn.jsx(v,{...mo,...e,ref:t})));go.displayName="AutoCompleteGroup",fo.displayName="AutoCompleteGroupTitle";const mo={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},vo=e=>{const{getGroupProps:t}=Qn(),r=e.groupSibling,{divider:{hasFirstChild:n,hasLastChild:o}}=t(e),a={my:2,borderColor:e.dividerColor};return{top:{...a,mb:4,display:!e.showDivider||n?"none":""},bottom:{...a,display:!e.showDivider||o||r?"none":""}}},yo=d(((e,t)=>{const{isLoading:r}=Qn(),{loadingIcon:n,...o}=e;return Xn.jsxs(x,{children:[Xn.jsx(w,{...o,ref:t}),r&&Xn.jsx(S,{children:n||Xn.jsx(j,{})})]})})),bo=d(((e,t)=>{const{autoCompleteProps:r,inputRef:n,getInputProps:o,tags:a,setQuery:i}=Qn(),{children:s,isInvalid:l,hidePlaceholder:c,...d}=e,{value:u}=d;ot.useEffect((()=>{void 0!==u&&("string"==typeof u||u instanceof String)&&i(u)}),[u]);const h=k("Input",e);let{wrapper:f,input:m}=o(d,h);const{ref:v,...y}=f,b=g(t,n),x=p(s,{tags:a});c&&(m={...m,placeholder:Array.isArray(x)&&x.length?void 0:m.placeholder});const w=Xn.jsx(yo,{isInvalid:l,...m,ref:b}),S=Xn.jsxs(C,{...y,ref:v,children:[x,Xn.jsx(_,{as:yo,...m,ref:b})]});return Xn.jsx(O,{children:r.multiple?S:w})}));bo.displayName="Input",bo.id="Input";var xo=ot.createContext({});function wo(){const e=ot.useContext(xo);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function So(){const e=wo(),t=function(){const e=ot.useContext(G);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return{...e,theme:t}}xo.displayName="ColorModeContext";var jo=(...e)=>e.filter(Boolean).join(" ");function ko(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function Co(e,...t){return _o(e)?e(...t):e}var _o=e=>"function"==typeof e,Oo={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",l="[object Null]",c="[object Object]",d="[object Proxy]",u="[object Undefined]",p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[i]=g["[object Map]"]=g["[object Number]"]=g[c]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var f,m="object"==typeof Gn&&Gn&&Gn.Object===Object&&Gn,v="object"==typeof self&&self&&self.Object===Object&&self,y=m||v||Function("return this")(),b=t&&!t.nodeType&&t,x=b&&e&&!e.nodeType&&e,w=x&&x.exports===b,S=w&&m.process,j=function(){try{return x&&x.require&&x.require("util").types||S&&S.binding&&S.binding("util")}catch{}}(),k=j&&j.isTypedArray,C=Array.prototype,_=Function.prototype,O=Object.prototype,R=y["__core-js_shared__"],P=_.toString,L=O.hasOwnProperty,A=(f=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",E=O.toString,M=P.call(Object),I=RegExp("^"+P.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=w?y.Buffer:void 0,T=y.Symbol,N=y.Uint8Array,B=z?z.allocUnsafe:void 0,$=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),V=Object.create,D=O.propertyIsEnumerable,F=C.splice,W=T?T.toStringTag:void 0,H=function(){try{var e=fe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),G=z?z.isBuffer:void 0,U=Math.max,K=Date.now,Y=fe(y,"Map"),J=fe(Object,"create"),X=function(){function e(){}return function(t){if(!Oe(t))return{};if(V)return V(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function q(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ee(e){var t=this.__data__=new Q(e);this.size=t.size}function te(e,t){var r=Se(e),n=!r&&we(e),o=!r&&!n&&ke(e),a=!r&&!n&&!o&&Pe(e),i=r||n||o||a,s=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var c in e)(t||L.call(e,c))&&(!i||!("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||me(c,l)))&&s.push(c);return s}function re(e,t,r){(void 0!==r&&!xe(e[t],r)||void 0===r&&!(t in e))&&ae(e,t,r)}function ne(e,t,r){var n=e[t];(!L.call(e,t)||!xe(n,r)||void 0===r&&!(t in e))&&ae(e,t,r)}function oe(e,t){for(var r=e.length;r--;)if(xe(e[r][0],t))return r;return-1}function ae(e,t,r){"__proto__"==t&&H?H(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}q.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},q.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},q.prototype.get=function(e){var t=this.__data__;if(J){var n=t[e];return n===r?void 0:n}return L.call(t,e)?t[e]:void 0},q.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:L.call(t,e)},q.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=J&&void 0===t?r:t,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(e){var t=this.__data__,r=oe(t,e);return!(r<0||(r==t.length-1?t.pop():F.call(t,r,1),--this.size,0))},Q.prototype.get=function(e){var t=this.__data__,r=oe(t,e);return r<0?void 0:t[r][1]},Q.prototype.has=function(e){return oe(this.__data__,e)>-1},Q.prototype.set=function(e,t){var r=this.__data__,n=oe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new q,map:new(Y||Q),string:new q}},Z.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},Z.prototype.get=function(e){return ge(this,e).get(e)},Z.prototype.has=function(e){return ge(this,e).has(e)},Z.prototype.set=function(e,t){var r=ge(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ee.prototype.clear=function(){this.__data__=new Q,this.size=0},ee.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ee.prototype.get=function(e){return this.__data__.get(e)},ee.prototype.has=function(e){return this.__data__.has(e)},ee.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Q){var n=r.__data__;if(!Y||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Z(n)}return r.set(e,t),this.size=r.size,this};var ie=function(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++o];if(!1===r(a[l],l,a))break}return t}}();function se(e){return null==e?void 0===e?u:l:W&&W in Object(e)?function(e){var t=L.call(e,W),r=e[W];try{e[W]=void 0;var n=!0}catch{}var o=E.call(e);return n&&(t?e[W]=r:delete e[W]),o}(e):function(e){return E.call(e)}(e)}function le(e){return Re(e)&&se(e)==o}function ce(e){return!(!Oe(e)||function(e){return!!A&&A in e}(e))&&(Ce(e)?I:p).test(function(e){if(null!=e){try{return P.call(e)}catch{}try{return e+""}catch{}}return""}(e))}function de(e){if(!Oe(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ve(e),r=[];for(var n in e)"constructor"==n&&(t||!L.call(e,n))||r.push(n);return r}function ue(e,t,r,n,o){e!==t&&ie(t,(function(a,i){if(o||(o=new ee),Oe(a))!function(e,t,r,n,o,a,i){var s=ye(e,r),l=ye(t,r),d=i.get(l);if(d)re(e,r,d);else{var u=a?a(s,l,r+"",e,t,i):void 0,p=void 0===u;if(p){var h=Se(l),g=!h&&ke(l),f=!h&&!g&&Pe(l);u=l,h||g||f?Se(s)?u=s:function(e){return Re(e)&&je(e)}(s)?u=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(s):g?(p=!1,u=function(e,t){if(t)return e.slice();var r=e.length,n=B?B(r):new e.constructor(r);return e.copy(n),n}(l,!0)):f?(p=!1,u=function(e,t){var r=t?function(e){var t=new e.constructor(e.byteLength);return new N(t).set(new N(e)),t}(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(l,!0)):u=[]:function(e){if(!Re(e)||se(e)!=c)return!1;var t=$(e);if(null===t)return!0;var r=L.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&P.call(r)==M}(l)||we(l)?(u=s,we(s)?u=function(e){return function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),o?ae(r,s,l):ne(r,s,l)}return r}(e,Le(e))}(s):(!Oe(s)||Ce(s))&&(u=function(e){return"function"!=typeof e.constructor||ve(e)?{}:X($(e))}(l))):p=!1}p&&(i.set(l,u),o(u,l,n,a,i),i.delete(l)),re(e,r,u)}}(e,t,i,r,ue,n,o);else{var s=n?n(ye(e,i),a,i+"",e,t,o):void 0;void 0===s&&(s=a),re(e,i,s)}}),Le)}function pe(e,t){return be(function(e,t,r){return t=U(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=U(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(i),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,s)}}(e,t,Me),e+"")}var he=H?function(e,t){return H(e,"toString",{configurable:!0,enumerable:!1,value:Ee(t),writable:!0})}:Me;function ge(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function fe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ce(r)?r:void 0}function me(e,t){var r,o=typeof e;return!!(t=null!==(r=t)&&void 0!==r?r:n)&&("number"==o||"symbol"!=o&&h.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||O)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var be=function(e){var t=0,r=0;return function(){var n=K(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(he);function xe(e,t){return e===t||e!=e&&t!=t}var we=le(function(){return arguments}())?le:function(e){return Re(e)&&L.call(e,"callee")&&!D.call(e,"callee")},Se=Array.isArray;function je(e){return null!=e&&_e(e.length)&&!Ce(e)}var ke=G||function(){return!1};function Ce(e){if(!Oe(e))return!1;var t=se(e);return t==i||t==s||t==a||t==d}function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Re(e){return null!=e&&"object"==typeof e}var Pe=k?function(e){return function(t){return e(t)}}(k):function(e){return Re(e)&&_e(e.length)&&!!g[se(e)]};function Le(e){return je(e)?te(e,!0):de(e)}var Ae=function(e){return pe((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&function(e,t,r){if(!Oe(r))return!1;var n=typeof t;return!!("number"==n?je(r)&&me(t,r.length):"string"==n&&t in r)&&xe(r[t],e)}(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,a)}return t}))}((function(e,t,r,n){ue(e,t,r,n)}));function Ee(e){return function(){return e}}function Me(e){return e}e.exports=Ae}(Oo,Oo.exports);const Ro=Un(Oo.exports);var Po=e=>"string"==typeof e?e.replace(/!(important)?$/,"").trim():e,Lo=(e,t)=>r=>{const n=String(t),o=(e=>/!(important)?$/.test(e))(n),a=Po(n),i=e?`${e}.${a}`:a;let s=ko(r.__cssMap)&&i in r.__cssMap?r.__cssMap[i].varRef:t;return s=Po(s),o?`${s} !important`:s};function Ao(e){const{scale:t,transform:r,compose:n}=e;return(e,o)=>{var a;const i=Lo(t,e)(o);let s=null!=(a=null==r?void 0:r(i,o))?a:i;return n&&(s=n(s,o)),s}}var Eo=(...e)=>t=>e.reduce(((e,t)=>t(e)),t);function Mo(e,t){return r=>{const n={property:r,scale:e};return n.transform=Ao({scale:e,transform:t}),n}}var Io=({rtl:e,ltr:t})=>r=>"rtl"===r.direction?e:t,zo=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"],To={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},No={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"},Bo={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},$o={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Vo=new Set(Object.values($o)),Do=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Fo=e=>e.trim(),Wo=e=>"string"==typeof e&&e.includes("(")&&e.includes(")"),Ho=e=>t=>`${e}(${t})`,Go={filter:e=>"auto"!==e?e:To,backdropFilter:e=>"auto"!==e?e:No,ring:e=>function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(Go.px(e)),bgClip:e=>"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e},transform:e=>"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...zo].join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...zo].join(" "):e,vh:e=>"$100vh"===e?"var(--chakra-vh)":e,px(e){if(null==e)return e;const{unitless:t}=(e=>{const t=parseFloat(e.toString()),r=e.toString().replace(String(t),"");return{unitless:!r,value:t,unit:r}})(e);return t||"number"==typeof e?`${e}px`:e},fraction:e=>"number"!=typeof e||e>1?e:100*e+"%",float:(e,t)=>"rtl"===t.direction?{left:"right",right:"left"}[e]:e,degree(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;const t="string"==typeof e&&!e.endsWith("deg");return"number"==typeof e||t?`${e}deg`:e},gradient:(e,t)=>function(e,t){if(null==e||Do.has(e))return e;if(!Wo(e)&&!Do.has(e))return`url('${e}')`;const r=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),n=null==r?void 0:r[1],o=null==r?void 0:r[2];if(!n||!o)return e;const a=n.includes("-gradient")?n:`${n}-gradient`,[i,...s]=o.split(",").map(Fo).filter(Boolean);if(0===(null==s?void 0:s.length))return e;const l=i in $o?$o[i]:i;return s.unshift(l),`${a}(${s.map((e=>{if(Vo.has(e))return e;const r=e.indexOf(" "),[n,o]=-1!==r?[e.substr(0,r),e.substr(r+1)]:[e],a=Wo(o)?o:o&&o.split(" "),i=`colors.${n}`,s=i in t.__cssMap?t.__cssMap[i].varRef:n;return a?[s,...Array.isArray(a)?a:[a]].join(" "):s})).join(", ")})`}(e,null!=t?t:{}),blur:Ho("blur"),opacity:Ho("opacity"),brightness:Ho("brightness"),contrast:Ho("contrast"),dropShadow:Ho("drop-shadow"),grayscale:Ho("grayscale"),hueRotate:Ho("hue-rotate"),invert:Ho("invert"),saturate:Ho("saturate"),sepia:Ho("sepia"),bgImage:e=>null==e||Wo(e)||Do.has(e)?e:`url(${e})`,outline(e){const t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:r,divide:n}=null!=(t=Bo[e])?t:{},o={flexDirection:e};return r&&(o[r]=1),n&&(o[n]=1),o}},Uo={borderWidths:Mo("borderWidths"),borderStyles:Mo("borderStyles"),colors:Mo("colors"),borders:Mo("borders"),gradients:Mo("gradients",Go.gradient),radii:Mo("radii",Go.px),space:Mo("space",Eo(Go.vh,Go.px)),spaceT:Mo("space",Eo(Go.vh,Go.px)),degreeT:e=>({property:e,transform:Go.degree}),prop:(e,t,r)=>({property:e,scale:t,...t&&{transform:Ao({scale:t,transform:r})}}),propT:(e,t)=>({property:e,transform:t}),sizes:Mo("sizes",Eo(Go.vh,Go.px)),sizesT:Mo("sizes",Eo(Go.vh,Go.fraction)),shadows:Mo("shadows"),logical:function(e){const{property:t,scale:r,transform:n}=e;return{scale:r,property:Io(t),transform:r?Ao({scale:r,compose:n}):n}},blur:Mo("blur",Go.blur)},Ko={background:Uo.colors("background"),backgroundColor:Uo.colors("backgroundColor"),backgroundImage:Uo.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Go.bgClip},bgSize:Uo.prop("backgroundSize"),bgPosition:Uo.prop("backgroundPosition"),bg:Uo.colors("background"),bgColor:Uo.colors("backgroundColor"),bgPos:Uo.prop("backgroundPosition"),bgRepeat:Uo.prop("backgroundRepeat"),bgAttachment:Uo.prop("backgroundAttachment"),bgGradient:Uo.gradients("backgroundImage"),bgClip:{transform:Go.bgClip}};Object.assign(Ko,{bgImage:Ko.backgroundImage,bgImg:Ko.backgroundImage});var Yo={border:Uo.borders("border"),borderWidth:Uo.borderWidths("borderWidth"),borderStyle:Uo.borderStyles("borderStyle"),borderColor:Uo.colors("borderColor"),borderRadius:Uo.radii("borderRadius"),borderTop:Uo.borders("borderTop"),borderBlockStart:Uo.borders("borderBlockStart"),borderTopLeftRadius:Uo.radii("borderTopLeftRadius"),borderStartStartRadius:Uo.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Uo.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Uo.radii("borderTopRightRadius"),borderStartEndRadius:Uo.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Uo.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Uo.borders("borderRight"),borderInlineEnd:Uo.borders("borderInlineEnd"),borderBottom:Uo.borders("borderBottom"),borderBlockEnd:Uo.borders("borderBlockEnd"),borderBottomLeftRadius:Uo.radii("borderBottomLeftRadius"),borderBottomRightRadius:Uo.radii("borderBottomRightRadius"),borderLeft:Uo.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Uo.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Uo.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Uo.borders(["borderLeft","borderRight"]),borderInline:Uo.borders("borderInline"),borderY:Uo.borders(["borderTop","borderBottom"]),borderBlock:Uo.borders("borderBlock"),borderTopWidth:Uo.borderWidths("borderTopWidth"),borderBlockStartWidth:Uo.borderWidths("borderBlockStartWidth"),borderTopColor:Uo.colors("borderTopColor"),borderBlockStartColor:Uo.colors("borderBlockStartColor"),borderTopStyle:Uo.borderStyles("borderTopStyle"),borderBlockStartStyle:Uo.borderStyles("borderBlockStartStyle"),borderBottomWidth:Uo.borderWidths("borderBottomWidth"),borderBlockEndWidth:Uo.borderWidths("borderBlockEndWidth"),borderBottomColor:Uo.colors("borderBottomColor"),borderBlockEndColor:Uo.colors("borderBlockEndColor"),borderBottomStyle:Uo.borderStyles("borderBottomStyle"),borderBlockEndStyle:Uo.borderStyles("borderBlockEndStyle"),borderLeftWidth:Uo.borderWidths("borderLeftWidth"),borderInlineStartWidth:Uo.borderWidths("borderInlineStartWidth"),borderLeftColor:Uo.colors("borderLeftColor"),borderInlineStartColor:Uo.colors("borderInlineStartColor"),borderLeftStyle:Uo.borderStyles("borderLeftStyle"),borderInlineStartStyle:Uo.borderStyles("borderInlineStartStyle"),borderRightWidth:Uo.borderWidths("borderRightWidth"),borderInlineEndWidth:Uo.borderWidths("borderInlineEndWidth"),borderRightColor:Uo.colors("borderRightColor"),borderInlineEndColor:Uo.colors("borderInlineEndColor"),borderRightStyle:Uo.borderStyles("borderRightStyle"),borderInlineEndStyle:Uo.borderStyles("borderInlineEndStyle"),borderTopRadius:Uo.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Uo.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Uo.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Uo.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Yo,{rounded:Yo.borderRadius,roundedTop:Yo.borderTopRadius,roundedTopLeft:Yo.borderTopLeftRadius,roundedTopRight:Yo.borderTopRightRadius,roundedTopStart:Yo.borderStartStartRadius,roundedTopEnd:Yo.borderStartEndRadius,roundedBottom:Yo.borderBottomRadius,roundedBottomLeft:Yo.borderBottomLeftRadius,roundedBottomRight:Yo.borderBottomRightRadius,roundedBottomStart:Yo.borderEndStartRadius,roundedBottomEnd:Yo.borderEndEndRadius,roundedLeft:Yo.borderLeftRadius,roundedRight:Yo.borderRightRadius,roundedStart:Yo.borderInlineStartRadius,roundedEnd:Yo.borderInlineEndRadius,borderStart:Yo.borderInlineStart,borderEnd:Yo.borderInlineEnd,borderTopStartRadius:Yo.borderStartStartRadius,borderTopEndRadius:Yo.borderStartEndRadius,borderBottomStartRadius:Yo.borderEndStartRadius,borderBottomEndRadius:Yo.borderEndEndRadius,borderStartRadius:Yo.borderInlineStartRadius,borderEndRadius:Yo.borderInlineEndRadius,borderStartWidth:Yo.borderInlineStartWidth,borderEndWidth:Yo.borderInlineEndWidth,borderStartColor:Yo.borderInlineStartColor,borderEndColor:Yo.borderInlineEndColor,borderStartStyle:Yo.borderInlineStartStyle,borderEndStyle:Yo.borderInlineEndStyle});var Jo={color:Uo.colors("color"),textColor:Uo.colors("color"),fill:Uo.colors("fill"),stroke:Uo.colors("stroke")},Xo={boxShadow:Uo.shadows("boxShadow"),mixBlendMode:!0,blendMode:Uo.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Uo.prop("backgroundBlendMode"),opacity:!0};Object.assign(Xo,{shadow:Xo.boxShadow});var qo={filter:{transform:Go.filter},blur:Uo.blur("--chakra-blur"),brightness:Uo.propT("--chakra-brightness",Go.brightness),contrast:Uo.propT("--chakra-contrast",Go.contrast),hueRotate:Uo.degreeT("--chakra-hue-rotate"),invert:Uo.propT("--chakra-invert",Go.invert),saturate:Uo.propT("--chakra-saturate",Go.saturate),dropShadow:Uo.propT("--chakra-drop-shadow",Go.dropShadow),backdropFilter:{transform:Go.backdropFilter},backdropBlur:Uo.blur("--chakra-backdrop-blur"),backdropBrightness:Uo.propT("--chakra-backdrop-brightness",Go.brightness),backdropContrast:Uo.propT("--chakra-backdrop-contrast",Go.contrast),backdropHueRotate:Uo.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:Uo.propT("--chakra-backdrop-invert",Go.invert),backdropSaturate:Uo.propT("--chakra-backdrop-saturate",Go.saturate)},Qo={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Go.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Uo.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Uo.space("gap"),rowGap:Uo.space("rowGap"),columnGap:Uo.space("columnGap")};Object.assign(Qo,{flexDir:Qo.flexDirection});var Zo={gridGap:Uo.space("gridGap"),gridColumnGap:Uo.space("gridColumnGap"),gridRowGap:Uo.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},ea={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Go.outline},outlineOffset:!0,outlineColor:Uo.colors("outlineColor")},ta={width:Uo.sizesT("width"),inlineSize:Uo.sizesT("inlineSize"),height:Uo.sizes("height"),blockSize:Uo.sizes("blockSize"),boxSize:Uo.sizes(["width","height"]),minWidth:Uo.sizes("minWidth"),minInlineSize:Uo.sizes("minInlineSize"),minHeight:Uo.sizes("minHeight"),minBlockSize:Uo.sizes("minBlockSize"),maxWidth:Uo.sizes("maxWidth"),maxInlineSize:Uo.sizes("maxInlineSize"),maxHeight:Uo.sizes("maxHeight"),maxBlockSize:Uo.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var r,n,o;return{[`@media screen and (min-width: ${null!=(o=null==(n=null==(r=t.__breakpoints)?void 0:r.get(e))?void 0:n.minW)?o:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var r,n,o;return{[`@media screen and (max-width: ${null!=(o=null==(n=null==(r=t.__breakpoints)?void 0:r.get(e))?void 0:n._minW)?o:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Uo.propT("float",Go.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(ta,{w:ta.width,h:ta.height,minW:ta.minWidth,maxW:ta.maxWidth,minH:ta.minHeight,maxH:ta.maxHeight,overscroll:ta.overscrollBehavior,overscrollX:ta.overscrollBehaviorX,overscrollY:ta.overscrollBehaviorY});var ra={listStyleType:!0,listStylePosition:!0,listStylePos:Uo.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Uo.prop("listStyleImage")},na=(e=>{const t=new WeakMap;return(r,n,o,a)=>{if(typeof r>"u")return e(r,n,o);t.has(r)||t.set(r,new Map);const i=t.get(r);if(i.has(n))return i.get(n);const s=e(r,n,o,a);return i.set(n,s),s}})((function(e,t,r,n){const o="string"==typeof t?t.split("."):[t];for(n=0;n<o.length&&e;n+=1)e=e[o[n]];return void 0===e?r:e})),oa={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},aa={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},ia=(e,t,r)=>{const n={},o=na(e,t,{});for(const a in o)a in r&&null!=r[a]||(n[a]=o[a]);return n},sa={srOnly:{transform:e=>!0===e?oa:"focusable"===e?aa:{}},layerStyle:{processResult:!0,transform:(e,t,r)=>ia(t,`layerStyles.${e}`,r)},textStyle:{processResult:!0,transform:(e,t,r)=>ia(t,`textStyles.${e}`,r)},apply:{processResult:!0,transform:(e,t,r)=>ia(t,e,r)}},la={position:!0,pos:Uo.prop("position"),zIndex:Uo.prop("zIndex","zIndices"),inset:Uo.spaceT("inset"),insetX:Uo.spaceT(["left","right"]),insetInline:Uo.spaceT("insetInline"),insetY:Uo.spaceT(["top","bottom"]),insetBlock:Uo.spaceT("insetBlock"),top:Uo.spaceT("top"),insetBlockStart:Uo.spaceT("insetBlockStart"),bottom:Uo.spaceT("bottom"),insetBlockEnd:Uo.spaceT("insetBlockEnd"),left:Uo.spaceT("left"),insetInlineStart:Uo.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Uo.spaceT("right"),insetInlineEnd:Uo.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(la,{insetStart:la.insetInlineStart,insetEnd:la.insetInlineEnd});var ca={ring:{transform:Go.ring},ringColor:Uo.colors("--chakra-ring-color"),ringOffset:Uo.prop("--chakra-ring-offset-width"),ringOffsetColor:Uo.colors("--chakra-ring-offset-color"),ringInset:Uo.prop("--chakra-ring-inset")},da={margin:Uo.spaceT("margin"),marginTop:Uo.spaceT("marginTop"),marginBlockStart:Uo.spaceT("marginBlockStart"),marginRight:Uo.spaceT("marginRight"),marginInlineEnd:Uo.spaceT("marginInlineEnd"),marginBottom:Uo.spaceT("marginBottom"),marginBlockEnd:Uo.spaceT("marginBlockEnd"),marginLeft:Uo.spaceT("marginLeft"),marginInlineStart:Uo.spaceT("marginInlineStart"),marginX:Uo.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Uo.spaceT("marginInline"),marginY:Uo.spaceT(["marginTop","marginBottom"]),marginBlock:Uo.spaceT("marginBlock"),padding:Uo.space("padding"),paddingTop:Uo.space("paddingTop"),paddingBlockStart:Uo.space("paddingBlockStart"),paddingRight:Uo.space("paddingRight"),paddingBottom:Uo.space("paddingBottom"),paddingBlockEnd:Uo.space("paddingBlockEnd"),paddingLeft:Uo.space("paddingLeft"),paddingInlineStart:Uo.space("paddingInlineStart"),paddingInlineEnd:Uo.space("paddingInlineEnd"),paddingX:Uo.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Uo.space("paddingInline"),paddingY:Uo.space(["paddingTop","paddingBottom"]),paddingBlock:Uo.space("paddingBlock")};Object.assign(da,{m:da.margin,mt:da.marginTop,mr:da.marginRight,me:da.marginInlineEnd,marginEnd:da.marginInlineEnd,mb:da.marginBottom,ml:da.marginLeft,ms:da.marginInlineStart,marginStart:da.marginInlineStart,mx:da.marginX,my:da.marginY,p:da.padding,pt:da.paddingTop,py:da.paddingY,px:da.paddingX,pb:da.paddingBottom,pl:da.paddingLeft,ps:da.paddingInlineStart,paddingStart:da.paddingInlineStart,pr:da.paddingRight,pe:da.paddingInlineEnd,paddingEnd:da.paddingInlineEnd});var ua={textDecorationColor:Uo.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Uo.shadows("textShadow")},pa={clipPath:!0,transform:Uo.propT("transform",Go.transform),transformOrigin:!0,translateX:Uo.spaceT("--chakra-translate-x"),translateY:Uo.spaceT("--chakra-translate-y"),skewX:Uo.degreeT("--chakra-skew-x"),skewY:Uo.degreeT("--chakra-skew-y"),scaleX:Uo.prop("--chakra-scale-x"),scaleY:Uo.prop("--chakra-scale-y"),scale:Uo.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Uo.degreeT("--chakra-rotate")},ha={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Uo.prop("transitionDuration","transition.duration"),transitionProperty:Uo.prop("transitionProperty","transition.property"),transitionTimingFunction:Uo.prop("transitionTimingFunction","transition.easing")},ga={fontFamily:Uo.prop("fontFamily","fonts"),fontSize:Uo.prop("fontSize","fontSizes",Go.px),fontWeight:Uo.prop("fontWeight","fontWeights"),lineHeight:Uo.prop("lineHeight","lineHeights"),letterSpacing:Uo.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},fa={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Uo.spaceT("scrollMargin"),scrollMarginTop:Uo.spaceT("scrollMarginTop"),scrollMarginBottom:Uo.spaceT("scrollMarginBottom"),scrollMarginLeft:Uo.spaceT("scrollMarginLeft"),scrollMarginRight:Uo.spaceT("scrollMarginRight"),scrollMarginX:Uo.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Uo.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Uo.spaceT("scrollPadding"),scrollPaddingTop:Uo.spaceT("scrollPaddingTop"),scrollPaddingBottom:Uo.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Uo.spaceT("scrollPaddingLeft"),scrollPaddingRight:Uo.spaceT("scrollPaddingRight"),scrollPaddingX:Uo.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Uo.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function ma(e){return ko(e)&&e.reference?e.reference:String(e)}var va=(e,...t)=>t.map(ma).join(` ${e} `).replace(/calc/g,""),ya=(...e)=>`calc(${va("+",...e)})`,ba=(...e)=>`calc(${va("-",...e)})`,xa=(...e)=>`calc(${va("*",...e)})`,wa=(...e)=>`calc(${va("/",...e)})`,Sa=e=>{const t=ma(e);return null==t||Number.isNaN(parseFloat(t))?xa(t,-1):String(t).startsWith("-")?String(t).slice(1):`-${t}`},ja=Object.assign((e=>({add:(...t)=>ja(ya(e,...t)),subtract:(...t)=>ja(ba(e,...t)),multiply:(...t)=>ja(xa(e,...t)),divide:(...t)=>ja(wa(e,...t)),negate:()=>ja(Sa(e)),toString:()=>e.toString()})),{add:ya,subtract:ba,multiply:xa,divide:wa,negate:Sa});function ka(e){if(null==e)return e;const{unitless:t}=function(e){const t=parseFloat(e.toString()),r=e.toString().replace(String(t),"");return{unitless:!r,value:t,unit:r}}(e);return t||"number"==typeof e?`${e}px`:e}function Ca(e,t){const r=["@media screen"];return e&&r.push("and",`(min-width: ${ka(e)})`),t&&r.push("and",`(max-width: ${ka(t)})`),r.join(" ")}var _a=(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,Oa=(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,Ra=(e,t)=>`${e}:focus-visible ${t}`,Pa=(e,t)=>`${e}:focus-within ${t}`,La=(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,Aa=(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,Ea=(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,Ma=(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,Ia=(e,t)=>`${e}:placeholder-shown ${t}`,za=e=>Na((t=>e(t,"&")),"[role=group]","[data-group]",".group"),Ta=e=>Na((t=>e(t,"~ &")),"[data-peer]",".peer"),Na=(e,...t)=>t.map(e).join(", "),Ba={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:za(_a),_peerHover:Ta(_a),_groupFocus:za(Oa),_peerFocus:Ta(Oa),_groupFocusVisible:za(Ra),_peerFocusVisible:Ta(Ra),_groupActive:za(La),_peerActive:Ta(La),_groupDisabled:za(Aa),_peerDisabled:Ta(Aa),_groupInvalid:za(Ea),_peerInvalid:Ta(Ea),_groupChecked:za(Ma),_peerChecked:Ta(Ma),_groupFocusWithin:za(Pa),_peerFocusWithin:Ta(Pa),_peerPlaceholderShown:Ta(Ia),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},$a=Object.keys(Ba),Va=Ro({},Ko,Yo,Jo,Qo,ta,qo,ca,ea,Zo,sa,la,Xo,da,fa,ga,ua,pa,ra,ha);Object.assign({},da,ta,Qo,Zo,la);var Da=[...Object.keys(Va),...$a],Fa={...Va,...Ba},Wa=(e,t)=>e.startsWith("--")&&"string"==typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t),Ha=(e,t)=>{var r,n;if(null==t)return t;const o=t=>{var r,n;return null==(n=null==(r=e.__cssMap)?void 0:r[t])?void 0:n.varRef},a=e=>{var t;return null!=(t=o(e))?t:e},[i,s]=function(e){const t=[];let r="",n=!1;for(let o=0;o<e.length;o++){const a=e[o];"("===a?(n=!0,r+=a):")"===a?(n=!1,r+=a):","!==a||n?r+=a:(t.push(r),r="")}return r=r.trim(),r&&t.push(r),t}(t);return t=null!=(n=null!=(r=o(i))?r:a(s))?n:a(t)};function Ga(e){const{configs:t={},pseudos:r={},theme:n}=e,o=(e,a=!1)=>{var i,s,l;const c=Co(e,n),d=(e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:r,toArrayValue:n,media:o}=t.__breakpoints,a={};for(const i in e){let s=Co(e[i],t);if(null==s)continue;if(s=ko(s)&&r(s)?n(s):s,!Array.isArray(s)){a[i]=s;continue}const l=s.slice(0,o.length).length;for(let e=0;e<l;e+=1){const t=null==o?void 0:o[e];t?(a[t]=a[t]||{},null!=s[e]&&(a[t][i]=s[e])):a[i]=s[e]}}return a})(c)(n);let u={};for(let p in d){let e=Co(d[p],n);p in r&&(p=r[p]),Wa(p,e)&&(e=Ha(n,e));let h=t[p];if(!0===h&&(h={property:p}),ko(e)){u[p]=null!=(i=u[p])?i:{},u[p]=Ro({},u[p],o(e,!0));continue}let g=null!=(l=null==(s=null==h?void 0:h.transform)?void 0:s.call(h,e,n,c))?l:e;g=null!=h&&h.processResult?o(g,!0):g;const f=Co(null==h?void 0:h.property,n);if(!a&&null!=h&&h.static){const e=Co(h.static,n);u=Ro({},u,e)}if(f&&Array.isArray(f))for(const t of f)u[t]=g;else f?"&"===f&&ko(g)?u=Ro({},u,g):u[f]=g:ko(g)?u=Ro({},u,g):u[p]=g}return u};return o}function Ua(e,t){for(let r=t+1;r<e.length;r++)if(null!=e[r])return r;return-1}function Ka(e){const t=e.__breakpoints;return function(e,r,n,o){var a,i;if(!t)return;const s={},l=function(e,t){return Array.isArray(e)?e:ko(e)?t(e):null!=e?[e]:void 0}(n,t.toArrayValue);if(!l)return s;const c=l.length,d=1===c,u=!!e.parts;for(let p=0;p<c;p++){const n=t.details[p],c=t.details[Ua(l,p)],h=Ca(n.minW,null==c?void 0:c._minW),g=Co(null==(a=e[r])?void 0:a[l[p]],o);if(g){if(u){null==(i=e.parts)||i.forEach((e=>{Ro(s,{[e]:d?g[e]:{[h]:g[e]}})}));continue}if(!u){d?Ro(s,g):s[h]=g;continue}s[h]=g}}return s}}function Ya(e){return function(e,t=[]){const r=Object.assign({},e);for(const n of t)n in r&&delete r[n];return r}(e,["styleConfig","size","variant","colorScheme"])}var Ja=typeof Element<"u",Xa="function"==typeof Map,qa="function"==typeof Set,Qa="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Za(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var r,n,o,a;if(Array.isArray(e)){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!Za(e[n],t[n]))return!1;return!0}if(Xa&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!Za(n.value[1],t.get(n.value[0])))return!1;return!0}if(qa&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Qa&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;if(Ja&&e instanceof Element)return!1;for(n=r;0!=n--;)if(("_owner"!==o[n]&&"__v"!==o[n]&&"__o"!==o[n]||!e.$$typeof)&&!Za(e[o[n]],t[o[n]]))return!1;return!0}return e!=e&&t!=t}const ei=Un((function(e,t){try{return Za(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}));function ti(e,t={}){var r;const{styleConfig:n,...o}=t,{theme:a,colorMode:i}=So(),s=e?D(a,`components.${e}`):void 0,l=n||s,c=F({theme:a,colorMode:i},null!=(r=null==l?void 0:l.defaultProps)?r:{},W(m(o,["children"]))),d=ot.useRef({});if(l){const e=function(e){return t=>{var r;const{variant:n,size:o,theme:a}=t,i=Ka(a);return Ro({},Co(null!=(r=e.baseStyle)?r:{},t),i(e,"sizes",o,t),i(e,"variants",n,t))}}(l)(c);ei(d.current,e)||(d.current=e)}return d.current}var ri=new Set([...Da,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),ni=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function oi(e){return ni.has(e)||!ri.has(e)}var ai,ii=null!=(ai=u.default)?ai:u,si=({baseStyle:e})=>t=>{const{theme:r,css:n,__css:o,sx:a,...i}=t,s=H(i,((e,t)=>(e=>e in Fa)(t))),l=function(e,...t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const r={...e};for(const n of t)if(null!=n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(e in r&&delete r[e],r[e]=n[e]);return r}({},o,p(e,t),W(s),a),c=(e=>t=>Ga({theme:t,pseudos:Ba,configs:Va})(e))(l)(t.theme);return n?[c,n]:c};function li(e,t){const{baseStyle:r,...n}=null!=t?t:{};n.shouldForwardProp||(n.shouldForwardProp=oi);const o=si({baseStyle:r}),a=ii(e,n)(o);return at.forwardRef((function(e,t){const{colorMode:r,forced:n}=wo();return at.createElement(a,{ref:t,"data-theme":n?r:void 0,...e})}))}var ci=function(){const e=new Map;return new Proxy(li,{apply:(e,t,r)=>li(...r),get:(t,r)=>(e.has(r)||e.set(r,li(r)),e.get(r))})}();function di(e){return ot.forwardRef(e)}var ui={path:Xn.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[Xn.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),Xn.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),Xn.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},pi=di(((e,t)=>{const{as:r,viewBox:n,color:o="currentColor",focusable:a=!1,children:i,className:s,__css:l,...c}=e,d=jo("chakra-icon",s),u=function(e,t={}){return ti(e,t)}("Icon",e),p={ref:t,focusable:a,className:d,__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:o,...l,...u}},h=null!=n?n:ui.viewBox;if(r&&"string"!=typeof r)return Xn.jsx(ci.svg,{as:r,...p,...c});const g=null!=i?i:ui.path;return Xn.jsx(ci.svg,{verticalAlign:"middle",viewBox:h,...p,...c,children:g})}));pi.displayName="Icon",di((function(e,t){const{spacing:r="0.5rem",spacingX:n,spacingY:o,children:a,justify:i,direction:s,align:l,className:c,shouldWrapChildren:d,...u}=e,p=ot.useMemo((()=>d?ot.Children.map(a,((e,t)=>Xn.jsx(hi,{children:e},t))):a),[a,d]);return Xn.jsx(ci.div,{ref:t,className:jo("chakra-wrap",c),...u,children:Xn.jsx(ci.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:i,alignItems:l,flexDirection:s,listStyleType:"none",gap:r,columnGap:n,rowGap:o,padding:"0"},children:p})})})).displayName="Wrap";var hi=di((function(e,t){const{className:r,...n}=e;return Xn.jsx(ci.li,{ref:t,__css:{display:"flex",alignItems:"flex-start"},className:jo("chakra-wrap__listitem",r),...n})}));hi.displayName="WrapItem";var gi=ci("div");gi.displayName="Box";var fi=di((function(e,t){const{size:r,centerContent:n=!0,...o}=e,a=n?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return Xn.jsx(gi,{ref:t,boxSize:r,__css:{...a,flexShrink:0,flexGrow:0},...o})}));fi.displayName="Square",di((function(e,t){const{size:r,...n}=e;return Xn.jsx(fi,{size:r,ref:t,borderRadius:"9999px",...n})})).displayName="Circle";var mi=di((function(e,t){const{direction:r,align:n,justify:o,wrap:a,basis:i,grow:s,shrink:l,...c}=e,d={display:"flex",flexDirection:r,alignItems:n,justifyContent:o,flexWrap:a,flexBasis:i,flexGrow:s,flexShrink:l};return Xn.jsx(ci.div,{ref:t,__css:d,...c})}));mi.displayName="Flex";const vi=e=>{const{getEmptyStateProps:t}=Qn(),r=t(Xn.jsx(mi,{...yi,children:"No options found!"}));return Xn.jsx(gi,{...e,children:r})},yi={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},bi=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],xi=d(((e,t)=>{const{children:r,loadingState:n,...o}=e,{listRef:a,isLoading:i}=Qn(),s=g(t,a),[l,c]=(e=>{const t=at.Children.map(e,((t,r)=>{var n;if("AutoCompleteGroup"===(null==(n=null==t?void 0:t.type)?void 0:n.displayName)){const n=at.Children.toArray(e)[r+1];return at.cloneElement(t,{groupSibling:!!n&&"AutoCompleteGroup"===n.type.displayName})}return t})),r=at.Children.toArray(t).filter((e=>{var t;return!bi.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)}));return[at.Children.toArray(t).filter((e=>{var t;return bi.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})),r]})(r);return Xn.jsxs(R,{ref:s,w:"inherit",...wi,...o,children:[i&&Xn.jsx(P,{children:n||Xn.jsx(j,{size:"md"})}),!i&&Xn.jsxs(Xn.Fragment,{children:[l,Xn.jsx(vi,{}),c]})]})}));xi.displayName="AutoCompleteList";const wi={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};var[Si,ji]=function(e={}){const{name:t,strict:r=!0,hookName:n="useContext",providerName:o="Provider",errorMessage:a,defaultValue:i}=e,s=ot.createContext(i);return s.displayName=t,[s.Provider,function e(){var t;const i=ot.useContext(s);if(!i&&r){const r=new Error(null!=a?a:function(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}(n,o));throw r.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,r,e),r}return i},s]}({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),ki=di(((e,t)=>{const r=function(e,t={}){return ti(e,t)}("Tag",e),n=Ya(e),o={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...r.container};return Xn.jsx(Si,{value:r,children:Xn.jsx(ci.span,{ref:t,...n,__css:o})})}));ki.displayName="Tag";var Ci=di(((e,t)=>{const r=ji();return Xn.jsx(ci.span,{ref:t,noOfLines:1,...e,__css:r.label})}));Ci.displayName="TagLabel",di(((e,t)=>Xn.jsx(pi,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e}))).displayName="TagLeftIcon",di(((e,t)=>Xn.jsx(pi,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e}))).displayName="TagRightIcon";var _i=e=>Xn.jsx(pi,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:Xn.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});_i.displayName="TagCloseIcon";var Oi=di(((e,t)=>{const{isDisabled:r,children:n,...o}=e,a={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...ji().closeButton};return Xn.jsx(ci.button,{ref:t,"aria-label":"close",...o,type:"button",disabled:r,__css:a,children:n||Xn.jsx(_i,{})})}));Oi.displayName="TagCloseButton",ot.memo((e=>{const{label:t,onRemove:r,disabled:n,...o}=e;return Xn.jsx(hi,{children:Xn.jsxs(ki,{borderRadius:"md",fontWeight:"normal",...n&&Ri,...o,children:[Xn.jsx(Ci,{children:t}),Xn.jsx(Oi,{onClick:()=>!n&&p(r),cursor:"pointer",...n&&Ri})]})})}));const Ri={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var Pi=function(){return Pi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pi.apply(this,arguments)},Li=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};function Ai(e){var t=e.data,r=e.displayHandler,n=e.filter,o=e.value,i=e.onChange,s=e.InputProps,l=e.InputPropsByState,c=e.ListProps,d=e.ItemProps,u=Li(e,["data","displayHandler","filter","value","onChange","InputProps","InputPropsByState","ListProps","ItemProps"]);return a.jsx(uo,Pi({value:o,filter:function(e,r){if(n){var o=t.find((function(e){return e.id===r}));return!!o&&n(e,o)}},onChange:function(e,t){return null==i?void 0:i(t.originalValue)},suggestWhenEmpty:!0,openOnFocus:!0},u,{children:function(e){var n,i=e.isOpen;return a.jsxs(a.Fragment,{children:[a.jsx(Ei,Pi({variant:"flushed",size:"sm",h:6,autoComplete:"off",value:o},null!==(n=null==l?void 0:l(i))&&void 0!==n?n:s)),a.jsx(xi,Pi({role:"menu",py:1},c,{children:t.map((function(e){return a.jsx(po,Pi({value:e,label:e.value,role:"menuitem",fontSize:"sm",p:1,mx:1},d,{children:r?r(e):e.value}),e.id)}))}))]})}}))}var Ei=function(e){var t=e.value,r=Li(e,["value"]),n=Qn().setQuery;return ot.useEffect((function(){n(null!=t?t:"")}),[t]),a.jsx(bo,Pi({},r))},Mi=function(){return Mi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mi.apply(this,arguments)},Ii=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},zi=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},Ti=ot.forwardRef((function(e,t){var r=e.validator,n=e.onDebouncedChange,o=e.delay,i=e.optionList,s=e.defaultValue;e.onChange;var l=Ii(e,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),c=ot.useRef(null),d=g(c,t),u=ot.useRef("datalist-"+(new Date).valueOf()),p=zi(ot.useState(!1),2),h=p[0],f=p[1],m=ot.useRef();return ot.useEffect((function(){c.current&&(c.current.value=(null==s?void 0:s.toString())||"")}),[s]),a.jsxs(a.Fragment,{children:[a.jsx(w,Mi({ref:d,list:u.current,variant:"flushed",size:"sm",h:6,onChange:function(e){var t=e.target.value;window.clearTimeout(m.current),r&&f(!r(t)),m.current=window.setTimeout((function(){null==n||n(t),m.current=void 0}),null!=o?o:500)},onBlur:function(e){var t=e.target.value;void 0!==m.current&&(window.clearTimeout(m.current),r&&f(!r(t)),null==n||n(t),m.current=void 0)},isInvalid:h},l)),i&&a.jsx("datalist",{id:u.current,children:null==i?void 0:i.map((function(e,t){return a.jsx("option",{children:e},t)}))})]})})),Ni=function(){return Ni=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ni.apply(this,arguments)},Bi=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},$i=ot.forwardRef((function(e,t){var r=e.onDebouncedChange,n=e.defaultValue;e.onChange;var o=Bi(e,["onDebouncedChange","defaultValue","onChange"]),i=ot.useRef(null),s=g(i,t),l=ot.useRef();return ot.useEffect((function(){i.current&&(i.current.value=(null==n?void 0:n.toString())||"")}),[n]),a.jsx(U,Ni({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:function(e){var t=e.target.value;window.clearTimeout(l.current),l.current=window.setTimeout((function(){null==r||r(t)}),500)}},o))})),Vi=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},Di=function(e){switch(e){case t.DEV:return"red";case t.UAT:return"orange";case t.PRD:return"green"}};function Fi(e){var r=e.environment,n=e.version,o=e.popoverHeader,i=e.popoverBody,s=Vi(ot.useState(!1),2),l=s[0],c=s[1];return a.jsxs(h,{isOpen:l,onOpen:function(){return o&&c(!0)},onClose:function(){return c(!1)},children:[a.jsx(K,{children:a.jsx(Y,{ml:1,colorScheme:Di(r),title:"".concat(r,": ").concat(n),cursor:o?"pointer":"help",children:r===t.PRD?n:r})}),a.jsxs(R,{children:[a.jsx(J,{}),a.jsx(X,{}),a.jsx(q,{children:o}),a.jsx(Q,{children:i})]})]})}var Wi=function(e,t,r){var n=new Blob([r],{type:t});Hi(e,n)},Hi=function(e,t){var r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)},Gi=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};function Ui(e){var t=e.cancelRef,r=e.isOpen,n=e.onClose,o=Gi(ot.useState(!1),2),i=o[0],s=o[1];return a.jsxs(Z,{leastDestructiveRef:t,isOpen:r,onClose:n,children:[a.jsx(ee,{}),a.jsxs(te,{children:[a.jsx(re,{children:"Warning "}),a.jsx(ne,{}),a.jsxs(oe,{sx:{"& p":{my:1}},children:[a.jsx(ae,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),a.jsx(ae,{children:""}),a.jsx(ae,{children:""})]}),a.jsxs(ie,{children:[a.jsx(se,{ref:t,onClick:n,children:"Cancel"}),a.jsx(se,{isLoading:i,colorScheme:"red",ml:3,onClick:function(){s(!0);var e=Yr.storage.getAll(),t=Yr.getAppName(),r="".concat(t,"_BACKUP_").concat((new Date).toISOString(),".json");Wi(r,"application/json",JSON.stringify(e)),Yr.storage.clear(),setTimeout((function(){window.location.reload()}),2e3)},children:"Confirm and reload"})]})]})]})}var Ki=function(){return Ki=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ki.apply(this,arguments)},Yi=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},Ji=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};function Xi(e){var t=e.error,r=e.errorInfo,o=e.allowReset,i=e.sx,s=Yi(e,["error","errorInfo","allowReset","sx"]),l=n("RmgErrorBoundary"),c=le("primary.500","primary.300"),d=Ji(ot.useState(!1),2),u=d[0],p=d[1],h=ot.useRef(null),g=function(e){return a.jsx(ce,{color:c,role:"button",onClick:function(){return p(!0)},children:e})},f=Yr.getAppName(),m=a.jsx(ce,{color:c,href:"https://github.com/railmapgen/".concat(f,"/issues"),isExternal:!0,children:"GitHub Issue"});return a.jsxs(de,Ki({status:"error",sx:Ki(Ki({},l),i)},s,{children:[a.jsx(ue,{}),a.jsx(pe,{children:"Something went wrong!"}),a.jsxs(he,{children:[a.jsxs(ae,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",o?a.jsxs(a.Fragment,{children:[" or ",g("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",m," with the details shown below."]}),a.jsxs(ae,{children:["",o?a.jsxs(a.Fragment,{children:["",g("")]}):""," ",m,"  Issue "]}),a.jsxs(ae,{children:["",o?a.jsxs(a.Fragment,{children:["",g("")]}):""," ",m,"  Issue "]}),a.jsxs(ae,{as:"details",children:[null==t?void 0:t.toString(),a.jsx("br",{}),null==r?void 0:r.componentStack]}),o&&a.jsx(Ui,{cancelRef:h,isOpen:u,onClose:function(){return p(!1)}})]})]}))}var qi,Qi=(qi=function(e,t){return qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},qi(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}qi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Zi=function(){return Zi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zi.apply(this,arguments)},es=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},ts=function(e){function t(t){var r=e.call(this,t)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return Qi(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){var e=this.props,t=e.children,r=e.suspenseFallback,n=e.allowReset,o=es(e,["children","suspenseFallback","allowReset"]);return this.state.hasError?a.jsx(Xi,Zi({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:n},o)):r?a.jsx(ot.Suspense,{fallback:r,children:t}):t},t}(at.Component),rs=function(){return rs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rs.apply(this,arguments)},ns=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},os=function(e){var t=e.label,r=e.children;e.width;var o=e.noLabel,i=e.oneLine,s=e.className,l=ns(e,["label","children","width","noLabel","oneLine","className"]),c=n("RmgLabel");return a.jsxs(ge,rs({className:"".concat(i?"rmg-label__one-line":""," ").concat(null!=s?s:""),"aria-label":t,sx:c},l,{children:[!o&&a.jsx(fe,{size:"xs",children:t}),r]}))},as=function(){return as=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},as.apply(this,arguments)},is=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},ss=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};function ls(e){var t=e.defaultValue,r=e.options,n=e.disabledOptions,o=is(e,["defaultValue","options","disabledOptions"]),i=ot.useRef(null);ot.useEffect((function(){i.current&&(i.current.value=(null==t?void 0:t.toString())||"")}),[t]);var s=function(e,t){return a.jsx("option",{value:e,disabled:void 0!==(null==n?void 0:n.find((function(t){return t.toString()===e}))),children:t},e)};return a.jsx(me,as({ref:i,variant:"flushed",size:"sm",h:6},o,{children:Object.entries(r).map((function(e){var t=ss(e,2),r=t[0],n=t[1];return"object"==typeof n?a.jsx("optgroup",{label:r,children:Object.entries(n).map((function(e){var t=ss(e,2),r=t[0],n=t[1];return s(r,n)}))},r):s(r,n)}))}))}var cs=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},ds=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},us=function(e,t){void 0===t&&(t=500);var r=cs(ot.useState(!0),2),n=r[0],o=r[1],a=ot.useRef([]),i=ot.useRef(),s=ot.useCallback((function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n?(o(!1),a.current=[],e.apply(void 0,ds([],cs(t),!1))):a.current=t}),[n,e]);return ot.useEffect((function(){if(!n)return i.current=window.setTimeout((function(){o(!0),a.current.length&&e.apply(void 0,ds([],cs(a.current),!1))}),t),function(){window.clearTimeout(i.current)}}),[n,t]),s},ps=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};function hs(e){var t=e.defaultValue,r=e.min,o=e.max,i=e.step,s=e.onThrottledChange,l=e.leftIcon,c=e.rightIcon,d=n("RmgThrottledSlider"),u=ps(ot.useState(null!=t?t:0),2),p=u[0],h=u[1],g=us(null!=s?s:function(){},500);return a.jsxs(v,{sx:d,children:[l&&a.jsx(ve,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:l,onClick:function(){var e=Math.max(p-10*(null!=i?i:1),null!=r?r:0);null==s||s(e),h(e)}}),a.jsxs(ye,{value:p,min:r,max:o,step:i,onChange:function(e){g(e),h(e)},children:[a.jsx(be,{children:a.jsx(xe,{})}),a.jsx(we,{})]}),c&&a.jsx(ve,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:c,onClick:function(){var e=Math.min(p+10*(null!=i?i:1),null!=o?o:100);null==s||s(e),h(e)}})]})}var gs=function(e){var t=e.children,r=e.noWrap,o=n("RmgOutput",{noWrap:r});return a.jsx(s.output,{sx:o,children:t})};function fs(e){var t=e.fields,r=e.noLabel,n=e.minW;return a.jsx(v,{wrap:"wrap",children:t.map((function(e,t){if(e.hidden)return a.jsx(ot.Fragment,{},t);var o=e.minW||n,i="full"===o;return a.jsx(os,{className:i?"mw-full":"",label:e.label,flex:i?void 0:1,minW:i?void 0:o,noLabel:r,oneLine:e.oneLine,children:function(e){switch(e.type){case"input":return a.jsx(Ti,{placeholder:e.placeholder,defaultValue:e.value,type:e.variant,validator:e.validator,onDebouncedChange:e.onChange,delay:e.debouncedDelay,optionList:e.optionList,isDisabled:e.isDisabled});case"output":return a.jsx(gs,{noWrap:!0,children:e.value});case"textarea":return a.jsx($i,{placeholder:e.placeholder,defaultValue:e.value,onDebouncedChange:e.onChange,isDisabled:e.isDisabled});case"slider":return a.jsx(hs,{defaultValue:e.value,min:e.min,max:e.max,step:e.step,onThrottledChange:e.onChange,leftIcon:e.leftIcon,rightIcon:e.rightIcon,isDisabled:e.isDisabled});case"select":return a.jsx(ls,{defaultValue:e.value,onChange:function(t){var r,n=t.target.value;return null===(r=e.onChange)||void 0===r?void 0:r.call(e,"number"==typeof e.value?Number(n):n.toString())},options:e.options,disabledOptions:e.disabledOptions,isInvalid:e.isInvalid,isDisabled:e.isDisabled});case"switch":return a.jsx(Se,{isChecked:e.isChecked,isDisabled:e.isDisabled,onChange:function(t){var r,n=t.target.checked;return null===(r=e.onChange)||void 0===r?void 0:r.call(e,n)}});case"custom":return e.component;default:return a.jsx("div",{})}}(e)},t)}))})}var ms=function(){return ms=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ms.apply(this,arguments)},vs=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},ys=function(e){var t=e.sx,r=e.className,o=vs(e,["sx","className"]),i=n("RmgWindow");return a.jsx(v,ms({className:"rmg-window ".concat(null!=r?r:""),sx:ms(ms({},i),t)},o))},bs=function(e){var t=e.isAppClipHeader,r=e.sx,o=e.className,i=vs(e,["isAppClipHeader","sx","className"]),s=n("RmgWindowHeader");return a.jsx(v,ms({className:"rmg-window__header ".concat(t?"rmg-window__app-clip-header":""," ").concat(null!=o?o:""),sx:ms(ms({},s),r)},i))},xs=function(e){var t=e.sx,r=e.className,o=vs(e,["sx","className"]),i=n("RmgPage");return a.jsx(v,ms({className:"rmg-page ".concat(null!=r?r:""),sx:ms(ms({},i),t)},o))},ws=function(){return ws=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ws.apply(this,arguments)},Ss=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},js=function(e){var t=e.isOpen,r=e.alwaysOverlay,o=e.width,i=e.sx,s=e.children,l=Ss(e,["isOpen","alwaysOverlay","width","sx","children"]),c=n("RmgSidePanel",{width:null!=o?o:320,alwaysOverlay:r});return a.jsx(v,ws({as:"section",className:t?"show-side-panel":"",sx:ws(ws({},c),i),"data-testid":"side-panel-root"},l,{children:a.jsx(v,{className:"rmg-side-panel__inner",children:s})}))},ks=function(e){var t=e.onClose,r=e.children;return a.jsxs(de,{className:"rmg-side-panel__header",status:"info",variant:"solid",size:"xs",children:[a.jsx(ue,{}),r,a.jsx(je,{onClick:t})]})},Cs=function(e){var t=e.children;return a.jsx("div",{className:"rmg-side-panel__body",children:t})},_s=function(e){return"dark"===e?"primary.300":"primary.500"},Os={variants:{flushed:function(e){var t=e.theme,r=e.colorMode;return{field:{_focusVisible:{borderColor:_s(r),boxShadow:"0px 1px 0px 0px ".concat(ke(t,_s(r)))}}}}}},Rs={defaultProps:{colorScheme:"primary"}},Ps=function(e){return"dark"===e?"primary.300":"primary.500"},Ls={baseStyle:function(e){var t=e.theme,r=e.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:Ps(r),boxShadow:"0px 1px 0px 0px ".concat(ke(t,Ps(r)))},_focus:{borderColor:Ps(r),boxShadow:"0px 1px 0px 0px ".concat(ke(t,Ps(r)))},_focusVisible:{borderColor:Ps(r),boxShadow:"0px 1px 0px 0px ".concat(ke(t,Ps(r)))},"&.active":{borderColor:Ps(r),boxShadow:"0px 1px 0px 0px ".concat(ke(t,Ps(r)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:"dark"===r?"whiteAlpha.200":"gray.100"},_active:{bg:"dark"===r?"whiteAlpha.300":"gray.200"}}}}}},As=function(){return As=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},As.apply(this,arguments)},Es={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},Ms={baseStyle:function(e){var t=e.noWrap;return As({h:6,fontSize:"sm"},t?Es:{})}},Is={Input:Os,Checkbox:Rs,Select:Os,Slider:{defaultProps:{colorScheme:"primary"}},Switch:Rs,Textarea:Os,RmgAgGrid:{baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},RmgAppClip:{baseStyle:function(e){var t=e.colorMode,r=e.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:r,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:r},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:"light"===t?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},RmgCard:{baseStyle:function(e){return{p:1,my:1,w:"100%",borderRadius:2,bg:"dark"===e.colorMode?"gray.700":"gray.50",boxShadow:"lg"}}},RmgDataTable:{baseStyle:function(e){var t=e.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:"dark"===t?"whiteAlpha.400":"blackAlpha.200",backgroundColor:"dark"===t?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},RmgEnrichedButton:{baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},RmgErrorBoundary:{baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},RmgLabel:{baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},RmgLineBadge:{baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},RmgLoader:{baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},RmgMultiSelect:Ls,RmgOutput:Ms,RmgPage:{baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},RmgPageHeader:{baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},RmgSection:{baseStyle:{position:"relative",background:"inherit"}},RmgSectionHeader:{baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},RmgSidePanel:{baseStyle:function(e){var t=e.colorMode,r=e.width,n=e.alwaysOverlay;return{height:"100%",position:n?"absolute":{base:"absolute",lg:"relative"},right:n?0:{base:0,lg:"unset"},background:"light"===t?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:r},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:r}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},RmgThrottledSlider:{baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},RmgWindow:{baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},RmgWindowHeader:{baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}}},zs=function(){return zs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zs.apply(this,arguments)},Ts="chakra-ui-color-mode",Ns={primary:zs({},Ce.colors.teal)},Bs={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},$s=function(e){var t,r=e.children;return a.jsx(Oe,{theme:_e({config:(t="system"===Yr.getColourMode(),Yr.isStandaloneWindow()&&(t?window.localStorage.removeItem(Ts):window.localStorage.setItem(Ts,Yr.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}),colors:Ns,styles:Bs,components:Is}),children:a.jsx(Vs,{children:r})})},Vs=function(e){var t=e.children,r=Re().setColorMode,n=Pe();return ot.useEffect((function(){console.log("[rmg-components] RMG theme is initialised with",n.config),Yr.onColourModeChange((function(e){if("system"===e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;r(t?"dark":"light")}else r(e)}))}),[r]),a.jsx(a.Fragment,{children:t})};const Ds=it({name:"app",initialState:{canvasColor:"auto"},reducers:{setAppState:(e,t)=>{e.canvasColor=t.payload.canvasColor},setCanvas:(e,t)=>{e.canvasColor=t.payload}}}),{setAppState:Fs,setCanvas:Ws}=Ds.actions,Hs=Ds.reducer,Gs=it({name:"runtime",initialState:{selected:new Set,active:void 0,mode:"free",svgViewBoxZoom:100,svgViewBoxMin:{x:-500,y:-250},paletteAppClip:{input:void 0,output:void 0},globalAlerts:new Map,history:[],undo_history:[]},reducers:{setSelected:(e,t)=>{e.selected=t.payload},addSelected:(e,t)=>{e.selected.add(t.payload)},removeSelected:(e,t)=>{e.selected.delete(t.payload)},clearSelected:e=>{e.selected=new Set},setActive:(e,t)=>{e.active=t.payload},setMode:(e,t)=>{e.mode=t.payload},openPaletteAppClip:(e,t)=>{e.paletteAppClip.input=t.payload,e.paletteAppClip.output=void 0},closePaletteAppClip:e=>{e.paletteAppClip.input=void 0},onPaletteAppClipEmit:(e,t)=>{e.paletteAppClip.input=void 0,e.paletteAppClip.output=t.payload},addGlobalAlert:(e,t)=>{e.globalAlerts.set(t.payload.id,t.payload.str)},removeGlobalAlert:(e,t)=>{e.globalAlerts.has(t.payload)&&e.globalAlerts.delete(t.payload)},removeGlobalAlertArray:(e,t)=>{t.payload.forEach((t=>{e.globalAlerts.has(t)&&e.globalAlerts.delete(t)}))},clearGlobalAlerts:e=>{e.globalAlerts.clear()},setSvgViewBoxZoom:(e,t)=>{e.svgViewBoxZoom=t.payload},setSvgViewBoxMin:(e,t)=>{e.svgViewBoxMin=t.payload},backupParam:(e,t)=>{e.history.push(t.payload),e.undo_history=[]},backupUndo:(e,t)=>{e.undo_history.push(t.payload)},backupRedo:e=>{e.undo_history.pop()},backupRemove:e=>{e.history.pop()}}}),{setSelected:Us,addSelected:Ks,removeSelected:Ys,clearSelected:Js,setActive:Xs,setMode:qs,openPaletteAppClip:Qs,closePaletteAppClip:Zs,onPaletteAppClipEmit:el,addGlobalAlert:tl,removeGlobalAlert:rl,removeGlobalAlertArray:nl,clearGlobalAlerts:ol,setSvgViewBoxZoom:al,setSvgViewBoxMin:il,backupParam:sl,backupUndo:ll,backupRedo:cl,backupRemove:dl}=Gs.actions,ul=Gs.reducer,pl={id:"new",label:"New",transform:{translateX:0,translateY:0,scale:1,rotate:0},version:2,type:"MiscNode",svgs:[],components:[]};var hl=(e=>(e.APP_LOAD="APP_LOAD",e))(hl||{});const gl=it({name:"param",initialState:pl,reducers:{setParam:(e,t)=>{e.id=t.payload.id,e.label=t.payload.label,e.transform=t.payload.transform,e.type=t.payload.type,e.color=t.payload.color,e.svgs=t.payload.svgs,e.components=t.payload.components,e.core=t.payload.core},setId:(e,t)=>{e.id=t.payload},setLabel:(e,t)=>{e.label=t.payload},setTransform:(e,t)=>{e.transform=t.payload},setType:(e,t)=>{e.type=t.payload},setColor:(e,t)=>{e.color=t.payload},setSvgs:(e,t)=>{e.svgs=t.payload},addSvg:(e,t)=>{e.svgs.push(t.payload)},setSvgValue:(e,t)=>{e.svgs[t.payload.index]=t.payload.value},deleteSvg:(e,t)=>{e.svgs=e.svgs.filter(((e,r)=>r!==t.payload))},setComponents:(e,t)=>{e.components=t.payload},addComponent:(e,t)=>{e.components.push(t.payload)},deleteComponent:(e,t)=>{e.components=e.components.filter(((e,r)=>r!==t.payload))},setComponentValue:(e,t)=>{e.components[t.payload.index]=t.payload.value},setCore:(e,t)=>{e.core=t.payload}}}),{setParam:fl,setLabel:ml,setTransform:vl,setType:yl,setColor:bl,setSvgs:xl,addSvg:wl,setSvgValue:Sl,deleteSvg:jl,setComponents:kl,addComponent:Cl,deleteComponent:_l,setComponentValue:Ol,setCore:Rl}=gl.actions,Pl=gl.reducer;st();const Ll=lt({app:Hs,runtime:ul,param:Pl}),Al=ct(),El=((e={})=>dt({reducer:Ll,middleware:e=>e({serializableCheck:!1}).prepend(Al.middleware),preloadedState:e}))();El.subscribe((()=>{localStorage.setItem("rmp-designer__param",JSON.stringify(El.getState().param)),localStorage.setItem("rmp-designer__app",JSON.stringify(El.getState().app))}));const Ml=()=>ut(),Il=pt;window.rmgStore=El;const zl=e=>{const{isOpen:t,onClose:r}=e,{t:n}=ht(),o=Yr.getAppVersion();return a.jsxs(Le,{isOpen:t,onClose:r,size:"xl",scrollBehavior:"inside",children:[a.jsx(ee,{}),a.jsxs(Ae,{children:[a.jsx(re,{children:n("header.about.title")}),a.jsx(ne,{}),a.jsxs(oe,{paddingBottom:10,children:[a.jsxs(v,{direction:"row",p:5,children:[a.jsx(Ee,{boxSize:"128px",src:"/rmp-designer//logo192.png"}),a.jsxs(v,{direction:"column",width:"100%",alignItems:"center",justifyContent:"center",children:[a.jsx(ae,{fontSize:"xl",as:"b",children:n("RMP Designer")}),a.jsx("br",{}),a.jsx(ae,{children:o})]})]}),a.jsx(y,{margin:5,children:a.jsx(ae,{fontSize:"xl",children:n("header.about.intro")})}),a.jsx(Me,{children:a.jsxs(Ie,{size:"lg",w:"95%",onClick:()=>window.open("https://github.com/langonginc","_blank"),cursor:"pointer",children:[a.jsx(ze,{src:"https://github.com/langonginc.png",size:"lg",my:2,ml:-1,mr:2}),a.jsxs(Te,{display:"block",width:"100%",children:[a.jsx(ae,{fontSize:"lg",fontWeight:"bold",mb:1,children:"langonginc"}),a.jsx(ae,{fontSize:"sm",children:"Live a life you will remember."}),a.jsx(ae,{fontSize:"sm",align:"right",mb:1,children:"--Avicii"})]})]})})]})]})]})},Tl=()=>{const[e,t]=at.useState(!1),{svgViewBoxZoom:r}=Il((e=>e.runtime)),n=Ml(),o=[{type:"slider",label:"",value:400-r,min:10,max:390,step:1,onChange:e=>n(al(400-e)),leftIcon:a.jsx(nn,{}),rightIcon:a.jsx(rn,{}),minW:160}];return a.jsxs(h,{isOpen:e,onOpen:()=>t(!0),onClose:()=>t(!1),children:[a.jsx(K,{children:a.jsx(ve,{"aria-label":"zoom",variant:"ghost",size:"sm",icon:a.jsx(rn,{}),onClick:()=>t(!e)})}),a.jsx(R,{children:a.jsx(Q,{children:a.jsx(fs,{fields:o,noLabel:!0})})})]})};let Nl=e=>crypto.getRandomValues(new Uint8Array(e));const Bl=e=>{const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},$l=(e,t,r,n)=>({x:e*r/100+n.x,y:t*r/100+n.y}),Vl=(e,t)=>Math.round(e/t)*t,Dl=((e,t=21)=>((e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return(a=t)=>{let i="";for(;;){let t=r(o),s=o;for(;s--;)if(i+=e[t[s]&n]||"",i.length===a)return i}}})(e,t,Nl))("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",10),Fl=navigator.platform.startsWith("Mac"),Wl=e=>{var t;const r=(new DOMParser).parseFromString(e,"image/svg+xml"),n=e=>{const t={};Array.from(e.attributes).forEach((e=>{"style"===e.name?t[e.name]=`3${JSON.stringify(function(e){if("object"==typeof e)return e;if("string"==typeof e){const t={};return e.split(";").forEach((e=>{const[r,n]=e.split(":");if(r&&n){const e=r.trim(),o=n.trim(),a=e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));t[a]=o}})),t}return{}}(e.value))}`:t[e.name]=`1"${e.value.trim()}"`})),"g"!==e.tagName&&e.textContent&&(t._rmp_children_text=`1"${e.textContent.trim()}"`);const r=[];return Array.from(e.children).forEach((e=>{r.push(n(e))})),{id:`id_${Dl(10)}`,type:e.tagName,label:Dl(5),attrs:t,children:0===r.length?void 0:r}},o=r.documentElement,a=n(o);return console.log(a),null!==(t=a.children)&&void 0!==t?t:[]},Hl=e=>{const{isOpen:t,onClose:r}=e,{t:n}=ht(),o=Ml(),[i,s]=at.useState(""),l=[{label:"SVG",type:"textarea",value:"",onChange:e=>s(e)}];return a.jsxs(Le,{isOpen:t,onClose:r,size:"xl",scrollBehavior:"inside",children:[a.jsx(ee,{}),a.jsxs(Ae,{children:[a.jsx(re,{children:n("header.import.pasteSVG")}),a.jsx(ne,{}),a.jsx(oe,{paddingBottom:10,children:a.jsx(fs,{fields:l,minW:"full"})}),a.jsxs(ie,{children:[a.jsx(se,{colorScheme:"blue",variant:"outline",mr:"1",onClick:r,children:n("cancel")}),a.jsx(se,{colorScheme:"red",mr:"1",onClick:()=>{o(xl(Wl(i))),r()},children:n("apply")})]})]})]})},Gl=async e=>{let t=!1;e||(e=JSON.stringify(pl),t=!0);let r=JSON.parse(e);"version"in r&&Number.isInteger(r.version)||(r={...r,version:0},t=!0);let n=Number(r.version),o=JSON.stringify(r);for(;n in Ul;)o=Ul[n](o),n=Number(JSON.parse(o).version),t=!0;return t&&(console.warn(`Upgrade save to version: ${n}`),localStorage.setItem("rmp-designer__param__backup",e)),o},Ul={0:e=>{const t=JSON.parse(e),r=t.svgs.map((e=>{const t={};for(const r in e.attrs)if(Object.prototype.hasOwnProperty.call(e.attrs,r)){const n=/^[0-9-]+$/,o=/^[A-Za-z0-9]+$/;/^"[^"]*"$/.test(e.attrs[r])?t[r]=`1${e.attrs[r]}`:n.test(e.attrs[r])?t[r]=`1"${e.attrs[r]}"`:o.test(e.attrs[r])?t[r]=`2${e.attrs[r]}`:t[r]=`3${e.attrs[r]}`}return{...e,attrs:t}}));return JSON.stringify({...t,version:1,svgs:r})},1:e=>{const t=JSON.parse(e);return JSON.stringify({...t,version:2,label:t.id,transform:pl.transform})}};function Kl(){const{t:e}=ht(),t=Ml(),r=at.useRef(null),n=at.useRef(null),[o,i]=at.useState(!1);return a.jsxs(Ne,{id:"upload",children:[a.jsx(Be,{as:ve,size:"sm",variant:"ghost",icon:a.jsx(pn,{})}),a.jsxs($e,{children:[a.jsx(Ve,{icon:a.jsx(Zr,{}),onClick:()=>{t(fl(pl)),t(ol())},children:e("header.import.new")}),a.jsx("input",{id:"upload_param",ref:n,type:"file",accept:".json",hidden:!0,onChange:async e=>{var r;const n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(console.log("OpenActions.handleUpload():: received file",n),"application/json"!==(null==n?void 0:n.type))console.error("OpenActions.handleUpload():: Invalid file type! Only file in JSON format is accepted.");else try{const e=await Yl(n);await(async e=>{const r=JSON.parse(e);if(!("id"in r&&"type"in r&&"svgs"in r&&Array.isArray(r.svgs)&&"components"in r&&Array.isArray(r.components)))throw new Error("Invalid param");{const r=await Gl(e);t(fl(JSON.parse(r)))}t(ol())})(e)}catch(o){console.error("OpenActions.handleUpload():: Unknown error occurred while parsing the uploaded file",o)}e.target.value="",t(ol())},"data-testid":"file-upload"}),a.jsx(Ve,{icon:a.jsx(pn,{}),onClick:()=>{var e;return null==n||null===(e=n.current)||void 0===e?void 0:e.click()},children:e("header.import.uploadParam")}),a.jsx(Ve,{icon:a.jsx(bn,{}),onClick:()=>i(!0),children:e("header.import.pasteSVG")}),a.jsx("input",{id:"upload_svg",ref:r,type:"file",accept:".svg",hidden:!0,onChange:async e=>{var r;const n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(console.log("OpenActions.handleUpload():: received file",n),"image/svg+xml"!==(null==n?void 0:n.type))console.error("OpenActions.handleUpload():: Invalid file type! Only file in JSON format is accepted.");else try{const e=await Yl(n);t(xl(Wl(e)))}catch(o){console.error("OpenActions.handleUpload():: Unknown error occurred while parsing the uploaded file",o)}e.target.value="",t(ol())},"data-testid":"file-upload"}),a.jsx(Ve,{icon:a.jsx(Qr,{}),onClick:()=>{var e;return null==r||null===(e=r.current)||void 0===e?void 0:e.click()},children:e("header.import.uploadSVG")})]}),a.jsx(Hl,{isOpen:o,onClose:()=>i(!1)})]})}const Yl=e=>new Promise((t=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsText(e)})),Jl=e=>{const{isOpen:t,onClose:r}=e,{t:n}=ht(),o=Ml(),{canvasColor:i}=Il((e=>e.app)),s=[{label:n("header.settings.canvasBackground.label"),type:"select",options:{auto:n("header.settings.canvasBackground.auto"),white:n("header.settings.canvasBackground.white"),dark:n("header.settings.canvasBackground.dark")},value:i,onChange:e=>{o(Ws(e))}}];return a.jsxs(Le,{isOpen:t,onClose:r,size:"xl",scrollBehavior:"inside",trapFocus:!1,children:[a.jsx(ee,{}),a.jsxs(Ae,{children:[a.jsx(re,{children:n("header.settings.title")}),a.jsx(ne,{}),a.jsx(oe,{children:a.jsx(fs,{fields:s})}),a.jsx(ie,{children:a.jsx(se,{colorScheme:"blue",variant:"outline",mr:"1",onClick:r,children:n("close")})})]})]})},Xl=(e,...t)=>new Function(...t,`return ${e}`),ql=(e,t,r)=>{let n=0,o=0,a=0,i=1,s=1,l=0,c=0;const d=e.match(/translate\(([^,]+),([^)]+)\)/);d&&(n=parseFloat(d[1]),o=parseFloat(d[2]));const u=e.match(/rotate\(([^)]+)\)/);u&&(a=parseFloat(u[1]));const p=e.match(/scale\(([^,]+)(?:,([^)]+))?\)/);p&&(i=parseFloat(p[1]),s=p[2]?parseFloat(p[2]):i);const h=e.match(/skewX\(([^)]+)\)/);h&&(l=parseFloat(h[1]));const g=e.match(/skewY\(([^)]+)\)/);return g&&(c=parseFloat(g[1])),n=Vl(n+t,1),o=Vl(o+r,1),`1"translate(${n}, ${o}) rotate(${a}) scale(${i}${i!==s?`, ${s}`:""}) skewX(${l}) skewY(${c})"`},Ql={a:!0,animate:!1,animateMotion:!1,animateTransform:!1,circle:!1,clipPath:!0,colorProfile:!1,defs:!0,desc:!0,discard:!1,ellipse:!1,feBlend:!1,feColorMatrix:!1,feComponentTransfer:!1,feComposite:!1,feConvolveMatrix:!1,feDiffuseLighting:!1,feDisplacementMap:!1,feDistantLight:!1,feDropShadow:!1,feFlood:!1,feFuncA:!1,feFuncB:!1,feFuncG:!1,feFuncR:!1,feGaussianBlur:!1,feImage:!1,feMerge:!0,feMergeNode:!1,feMorphology:!1,feOffset:!1,fePointLight:!1,feSpecularLighting:!1,feSpotLight:!1,feTile:!1,feTurbulence:!1,filter:!0,font:!0,fontFace:!1,fontFaceFormat:!1,fontFaceName:!1,fontFaceSrc:!1,fontFaceUri:!1,foreignObject:!0,g:!0,glyph:!0,glyphRef:!1,hatch:!0,hatchpath:!1,hkern:!1,iframe:!1,image:!1,line:!1,linearGradient:!0,marker:!0,mask:!0,mesh:!0,meshgradient:!0,meshpatch:!0,meshrow:!0,metadata:!0,missingGlyph:!0,mpath:!1,path:!1,pattern:!0,polygon:!1,polyline:!1,radialGradient:!0,rect:!1,script:!0,set:!1,solidcolor:!1,stop:!1,style:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,title:!0,tref:!0,tspan:!0,unknown:!1,use:!1,view:!1,vkern:!1},Zl=e=>{var t;return null!==(t=Ql[e])&&void 0!==t&&t},ec=e=>{var t,r;const{svgsElem:n,components:o,prefix:i,handlePointerUp:s,handlePointerMove:l,handlePointerDown:c}=e,{id:d,type:u,attrs:p}=n,h=Ml(),{globalAlerts:g,selected:f}=Il((e=>e.runtime)),m=at.useCallback((e=>c(d,[...i,d],e)),[d,c]),v=at.useCallback((e=>l(d,[...i,d],e)),[d,l]),y=at.useCallback((e=>s(d,[...i,d],e)),[d,s]),b=g.has(d),[x,w]=at.useState(void 0);at.useEffect((()=>{!b&&x&&(h(tl({id:d,str:x})),w(void 0))}),[x]);const S=((e,t,r,n)=>{const o={};if(x||b)return o;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a))try{o[a]=Xl(e[a].slice(1),...t)(...r.map(((e,t)=>"number"!==n[t]||Number.isNaN(Number(e))?e:Number(e))))}catch(Kc){Kc instanceof Error&&w(Kc.message)}return o})(p,o.map((e=>e.label)),o.map((e=>e.value?e.value:e.defaultValue)),o.map((e=>e.type))),j=Zl(u)&&n.children?n.children.map(((e,t)=>a.jsx(ec,{svgsElem:e,components:o,prefix:[...i,d],handlePointerDown:c,handlePointerMove:l,handlePointerUp:s},t))):"_rmp_children_text"in S?[S._rmp_children_text]:[];"style"in S&&"object"!=typeof S.style&&w('"style" must be an object!');const k="style"in S&&"object"==typeof S.style?{...S.style,cursor:"move"}:{cursor:"move"};return a.jsx("g",{id:`g_${d}`,transform:`translate(${null!==(t=S.x)&&void 0!==t?t:0}, ${null!==(r=S.y)&&void 0!==r?r:0})`,opacity:f.has(d)||0===f.size?1:.5,children:at.createElement(u,{...S,id:d,key:d,x:0,y:0,onPointerDown:m,onPointerMove:v,onPointerUp:y,style:k},...j)},`g_${d}`)},tc=e=>{const{isOpen:t,onClose:r,param:n}=e,{t:o}=ht(),[i,s]=at.useState("");return at.useEffect((()=>{t&&s(JSON.stringify({...n,id:Dl(6)}))}),[t]),a.jsxs(Le,{isOpen:t,onClose:r,size:"2xl",scrollBehavior:"inside",children:[a.jsx(ee,{}),a.jsxs(Ae,{children:[a.jsxs(re,{children:[a.jsx(ae,{as:"b",fontSize:"xl",children:o("header.export.export")}),a.jsx(ne,{})]}),a.jsx(oe,{children:a.jsx(U,{value:i,readOnly:!0,fontFamily:"monospace",fontSize:"xs",minH:"300"})}),a.jsx(ie,{children:a.jsx(se,{colorScheme:"blue",variant:"outline",mr:"1",onClick:r,children:o("close")})})]})]})},rc=e=>{const{isOpen:t,onClose:r}=e,{t:n}=ht(),o=Il((e=>e.param)),i=Ml(),[s,l]=at.useState(!1),[c,d]=at.useState(!1),[u,p]=at.useState(!1),h=[{label:n("header.export.showLines"),type:"switch",isChecked:s,onChange:e=>l(e)},{label:n("header.export.showBadges"),type:"switch",isChecked:c,onChange:e=>d(e)},{label:n("header.export.offsetX"),type:"input",value:o.transform.translateX.toString(),onChange:e=>i(vl({...o.transform,translateX:Number(e)}))},{label:n("header.export.offsetY"),type:"input",value:o.transform.translateY.toString(),onChange:e=>i(vl({...o.transform,translateY:Number(e)}))},{label:n("header.export.scale"),type:"input",value:o.transform.scale.toString(),onChange:e=>i(vl({...o.transform,scale:Number(e)}))},{label:n("header.export.rotate"),type:"input",value:o.transform.rotate.toString(),onChange:e=>i(vl({...o.transform,rotate:Number(e)}))}];return a.jsxs(a.Fragment,{children:[a.jsxs(Le,{isOpen:t,onClose:r,size:"3xl",scrollBehavior:"inside",children:[a.jsx(ee,{}),a.jsxs(Ae,{children:[a.jsx(re,{children:n("header.export.preview")}),a.jsxs(oe,{children:[a.jsx(fs,{fields:h}),a.jsxs("svg",{id:"rmp-style-gen-svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",colorInterpolationFilters:"sRGB",viewBox:"-100 -100 200 200",style:{width:"100%",height:"500",userSelect:"none",touchAction:"none",backgroundColor:"white"},tabIndex:0,children:[s&&["M -1000 0 L 1000 0","M 0 -1000 L 0 1000","M -1000 -1000 L 1000 1000","M 1000 -1000 L -1000 1000"].map(((e,t)=>a.jsx("path",{d:e,fill:"none",stroke:"#C23A30",strokeWidth:"5",strokeLinecap:"round"},t))),c&&a.jsxs("g",{children:[a.jsxs("g",{transform:"translate(-60, 70)",children:[a.jsx("rect",{fill:"#E4002B",width:"21",height:"22.67"}),a.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"19",fill:"white",fontSize:"21.33",letterSpacing:"-1.75",children:"1"}),a.jsx("text",{className:"rmp-name__zh",x:23,y:"12",fontSize:"14.67",children:""}),a.jsx("text",{className:"rmp-name__en",x:25,y:"21.5",fontSize:"8",children:"Line 1"})]}),a.jsxs("g",{transform:"translate(8, 72.5)",children:[a.jsx("rect",{fill:"#c23a30",x:"0",width:32.84375,height:"16",rx:"2"}),a.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:"white",fontSize:"15",letterSpacing:"-1.5",children:"1"}),a.jsx("text",{className:"rmp-name__zh",x:14.84375,y:"8.5",fontSize:"7",fill:"white",children:""}),a.jsx("text",{className:"rmp-name__en",x:16.34375,y:"13.5",fontSize:"4",fill:"white",children:"Line 1"})]})]}),a.jsx("g",{transform:`translate(${o.transform.translateX}, ${o.transform.translateY}) scale(${o.transform.scale}) rotate(${o.transform.rotate})`,children:o.svgs.map((e=>{const t=o.color?[...o.components,o.color]:o.components;return a.jsx(ec,{svgsElem:e,components:t,prefix:[e.id],handlePointerDown:()=>{},handlePointerMove:()=>{},handlePointerUp:()=>{}},e.id)}))})]})]}),a.jsxs(ie,{children:[a.jsx(se,{colorScheme:"blue",variant:"outline",mr:"1",onClick:r,children:n("cancel")}),a.jsx(se,{colorScheme:"blue",variant:"solid",mr:"1",onClick:()=>{p(!0),r()},children:n("header.export.export")})]})]})]}),a.jsx(tc,{isOpen:u,onClose:()=>p(!1),param:o})]})},nc=(e,t,r)=>{const n=new Blob([r],{type:t});oc(e,n)},oc=(e,t)=>{const r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)};function ac(){const{t:e}=ht(),t=Il((e=>e.param)),[r,n]=ot.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs(Ne,{id:"upload",children:[a.jsx(Be,{as:ve,size:"sm",variant:"ghost",icon:a.jsx(dn,{})}),a.jsxs($e,{children:[a.jsx(Ve,{icon:a.jsx(ln,{}),onClick:()=>{nc(`RMP-Designer_${(new Date).valueOf()}.json`,"application/json",JSON.stringify(t))},children:e("header.export.download")}),a.jsxs(Ve,{icon:a.jsx(en,{}),onClick:()=>n(!0),children:[e("header.export.export"),a.jsx(Y,{ml:"1",colorScheme:"green",children:"RMP"})]})]})]}),a.jsx(rc,{isOpen:r,onClose:()=>n(!1)})]})}function ic(){const{t:e}=ht(),t=Ml(),{history:r,undo_history:n}=Il((e=>e.runtime)),o=Il((e=>e.param)),i=Yr.getEnv(),s=Yr.getAppVersion(),[l,c]=at.useState(!1),[d,u]=at.useState(!1);return a.jsxs(bs,{children:[a.jsx(De,{as:"h4",size:"md",children:e("RMP Designer")}),a.jsx(Fi,{environment:i,version:s}),a.jsxs(Fe,{ml:"auto",children:[a.jsx(ve,{size:"sm",variant:"ghost","aria-label":"Undo",icon:a.jsx(cn,{}),isDisabled:0===r.length,onClick:()=>{t(ll(o)),t(fl(r[r.length-1])),t(dl())}}),a.jsx(ve,{size:"sm",variant:"ghost","aria-label":"Redo",icon:a.jsx(sn,{}),isDisabled:0===n.length,onClick:()=>{t(sl(o)),t(fl(n[n.length-1])),t(cl())}}),a.jsx(Tl,{}),a.jsx(Kl,{}),a.jsx(ac,{}),a.jsx(ve,{size:"sm",variant:"ghost","aria-label":"Settings",icon:a.jsx(tn,{}),onClick:()=>u(!0)}),a.jsx(ve,{size:"sm",variant:"ghost","aria-label":e("Help"),title:e("Help"),icon:a.jsx(qr,{}),onClick:()=>c(!0)})]}),a.jsx(zl,{isOpen:l,onClose:()=>c(!1)}),a.jsx(Jl,{isOpen:d,onClose:()=>u(!1)})]})}const sc=()=>{const[e,t]=ot.useState({width:void 0,height:void 0});return ot.useEffect((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e};var lc=(e=>(e.Rect="rect",e.Circle="circle",e.Polygon="polygon",e.Path="path",e.Text="text",e.G="g",e.Any="any",e))(lc||{});const cc={icon:a.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:a.jsx("rect",{fill:"none",stroke:"currentColor",strokeWidth:"1.3",x:"6",y:"7.5",width:"12",height:"10",rx:"2"})}),defaultAttrs:{width:'1"20"',height:'1"10"',rx:'1"2"',ry:'1"2"',opacity:'1"1"',fill:'1"#D6ABC1"'},displayName:"Rectangle"},dc={icon:a.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:a.jsx("circle",{fill:"none",stroke:"currentColor",strokeWidth:"1.3",cx:"12",cy:"12",r:"6.5"})}),defaultAttrs:{r:'1"5"',opacity:'1"1"',fill:'1"#D6ABC1"',stroke:'1"none"',strokeWidth:'1"0"'},displayName:"Circle"},uc={icon:a.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:a.jsx("rect",{x:"6",y:"11",width:"12",height:"2",rx:1,fill:"currentColor"})}),defaultAttrs:{d:'1"M 0 5 L 20 5"',stroke:'1"#D6ABC1"',strokeWidth:'1"5"'},displayName:"Path"},pc={icon:a.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:a.jsx("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"T"})}),defaultAttrs:{_rmp_children_text:'1"text"',opacity:'1"1"',fill:'1"black"',className:'1"rmp-name__en"',textAnchor:'1"middle"',fontSize:'1"12"'},displayName:"Text"},hc={icon:a.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:a.jsx("polygon",{points:"8,6 16,6 20,13 16,20 8,20 4,13",fill:"none",stroke:"currentColor",strokeWidth:"1.3"})}),defaultAttrs:{points:'1"8,6 16,6 20,13 16,20 8,20 4,13"',fill:'1"#D6ABC1"'},displayName:"Polygon"},gc={icon:a.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:a.jsxs("g",{fill:"currentColor",children:[a.jsx("circle",{cx:"8",cy:"12",r:"3"}),a.jsx("rect",{x:"12",y:"9",width:"6",height:"6"})]})}),defaultAttrs:{},displayName:"Group"},fc={icon:a.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:a.jsx("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"<>"})}),defaultAttrs:{},displayName:"Any"},mc={[lc.Rect]:cc,[lc.Circle]:dc,[lc.Polygon]:hc,[lc.Path]:uc,[lc.Text]:pc,[lc.G]:gc,[lc.Any]:fc},vc={justifyContent:"flex-start",p:0,w:"100%",h:10},yc=()=>{const{t:e}=ht(),t=Ml(),{mode:r}=Il((e=>e.runtime)),n=le("white","var(--chakra-colors-gray-800)"),[o,i]=at.useState(!0);return a.jsxs(v,{flexShrink:"0",direction:"column",width:o?250:10,maxWidth:"100%",height:"100%",bg:n,zIndex:"5",transition:"width 0.3s ease-in-out",children:[a.jsx(se,{"aria-label":"Menu",leftIcon:o?a.jsx(yn,{size:40,transform:"rotate(90)"}):a.jsx(vn,{size:40,transform:"rotate(90)"}),onClick:()=>{o?i(!1):setTimeout((()=>i(!0)),320)},sx:vc,children:o?e("panel.tools.showLess"):void 0}),a.jsx(v,{direction:"column",overflow:"auto",children:Object.values(lc).map((n=>a.jsx(se,{"aria-label":n,leftIcon:mc[n].icon,onClick:()=>(e=>t(qs("free"===r?`svgs-${e}`:"free")))(n),variant:r===`svgs-${n}`?"solid":"outline",sx:vc,children:o?e(mc[n].displayName):void 0},n)))})]})},bc="undefined"!=typeof window?at.useInsertionEffect||at.useLayoutEffect:()=>{};function xc(e){const t=at.useRef(wc);bc((()=>{t.current=e}),[e]);const r=at.useRef(null);return r.current||(r.current=function(){return t.current.apply(this,arguments)}),r.current}function wc(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}function Sc(){var e,t;const r=Ml(),n=Il((e=>e.param)),{canvasColor:o}=Il((e=>e.app)),{selected:i,mode:s,active:l,svgViewBoxMin:c,svgViewBoxZoom:d,history:u,undo_history:p}=Il((e=>e.runtime)),h=sc(),g=(null!==(e=h.width)&&void 0!==e?e:720)-40,f=3*((null!==(t=h.height)&&void 0!==t?t:720)-40)/5,[m,v]=at.useState({x:0,y:0}),[y,b]=at.useState({x:0,y:0}),x="dark"===o?"var(--chakra-colors-gray-800)":"white"===o?"white":"",w=xc((e=>{const{x:t,y:o}=Bl(e);if(s.startsWith("svgs-")){r(qs("free"));const e=`id_${Dl(10)}`,{x:a,y:i}=$l(t,o,d,c),l=s.slice(5),u=structuredClone(mc[l].defaultAttrs),p={id:e,type:l,label:Dl(5),attrs:{x:`1"${Vl(a,1)}"`,y:`1"${Vl(i,1)}"`,...u}};r(sl(n)),r(wl(p))}else"free"===s&&(v({x:t,y:o}),b(c),e.shiftKey||(r(Xs("background")),r(Js())))})),S=xc((e=>{const{x:t,y:n}=Bl(e);"background"===l&&r(il({x:y.x+(m.x-t)*d/100,y:y.y+(m.y-n)*d/100}))})),j=xc((e=>{"background"!==l||e.shiftKey||r(Xs(void 0))})),k=xc(((e,t,o)=>{o.stopPropagation();const a=o.currentTarget,{x:s,y:l}=Bl(o);a.setPointerCapture(o.pointerId),v({x:s,y:l}),r(sl(n)),r(Xs(e)),o.shiftKey?i.has(e)?r(Ys(e)):r(Ks(e)):0===t.filter((e=>i.has(e))).length&&r(Us(new Set([e])))})),C=xc(((e,t,o)=>{const{x:a,y:c}=Bl(o);o.stopPropagation();const u=e=>0===e.length?[]:e.map((e=>{if(i.has(e.id)){const r=(a-m.x)*d/100,n=(c-m.y)*d/100;if(e.attrs.x||e.attrs.y||!e.attrs.x&&!e.attrs.y&&!e.attrs.transform){const t=void 0!==e.attrs.x&&Number.isNaN(Number(e.attrs.x.slice(2,-1)))?e.attrs.x:`1"${Vl(Number(e.attrs.x?e.attrs.x.slice(2,-1):0)+r,1)}"`,o=void 0!==e.attrs.y&&Number.isNaN(Number(e.attrs.y.slice(2,-1)))?e.attrs.y:`1"${Vl(Number(e.attrs.y?e.attrs.y.slice(2,-1):0)+n,1)}"`;return{...e,attrs:{...e.attrs,x:t,y:o}}}if(e.attrs.transform){var t;const o=ql(null!==(t=e.attrs.transform)&&void 0!==t?t:"",r,n);return{...e,attrs:{...e.attrs,transform:o}}}return e}if(e.children&&e.children.length>0){const t=u(e.children);return{...e,children:0!==t.length?t:void 0}}return e}));"free"===s&&l===e&&r(xl(u(n.svgs)))})),_=xc(((e,t,n)=>{r(Xs(void 0))})),O=xc((e=>{e.stopPropagation();let t=d;e.deltaY>0&&d+10<400?t=d+10:e.deltaY<0&&d-10>0&&(t=d-10),r(al(t));const{x:n,y:o}=Bl(e),a=e.currentTarget.getBoundingClientRect(),[i,s]=[n/a.width,o/a.height];r(il({x:c.x+n*d/100-g*t/100*i,y:c.y+o*d/100-f*t/100*s}))})),R=xc((async e=>{if(Fl?"Backspace"===e.key:"Delete"===e.key){if(i.size>0){const e=t=>{const r=t.filter((e=>!i.has(e.id)));return r.map((t=>{const r=t.children?e(t.children):void 0;return{...t,children:r?0===r.length?[]:r:void 0}}))};r(sl(n)),r(xl(e(n.svgs))),r(ol()),r(Js())}}else if(e.key.startsWith("Arrow")){const t=100,n=e.key.endsWith("Left")?-1:e.key.endsWith("Right")?1:0,o=e.key.endsWith("Up")?-1:e.key.endsWith("Down")?1:0;r(il($l(t*n,t*o,d,c)))}else"z"===e.key&&(Fl?e.metaKey&&!e.shiftKey:e.ctrlKey)?(Fl&&e.preventDefault(),u.length>0&&(r(ll(n)),r(fl(u[u.length-1])),r(dl()))):"s"===e.key||(Fl&&"z"===e.key&&e.metaKey&&e.shiftKey||!Fl&&"y"===e.key&&e.ctrlKey)&&p.length>0&&(r(sl(n)),r(fl(p[p.length-1])),r(cl()))}));return a.jsxs("svg",{id:"rmp-style-gen-svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:g,height:f,viewBox:`${c.x} ${c.y} ${g*d/100} ${f*d/100}`,colorInterpolationFilters:"sRGB",style:{position:"absolute",left:40,userSelect:"none",touchAction:"none",backgroundColor:x},onPointerDown:w,onPointerMove:S,onPointerUp:j,onWheel:O,onKeyDown:R,tabIndex:0,children:[a.jsx("rect",{id:"canvas-x",x:-2e5,y:-1,width:4e5,height:2,fill:"black"}),a.jsx("rect",{id:"canvas-y",x:-1,y:-2e5,width:2,height:4e5,fill:"black"}),n.svgs.map((e=>{const t=n.color?[...n.components,n.color]:n.components;return a.jsx(ec,{svgsElem:e,components:t,prefix:[e.id],handlePointerDown:k,handlePointerMove:C,handlePointerUp:_},e.id)}))]})}class jc{static hexToRgb(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}static fade(e,t){return`rgba(${[...this.hexToRgb(e),t].join(",")})`}static euclideanDistance(e,t){return this.hexToRgb(e).reduce(((e,r,n)=>e+Math.pow(r-this.hexToRgb(t)[n],2)),0)}}function kc(e){var t,r,n;const{isOpen:o,onClose:i}=e,s=Ml(),l=Il((e=>e.param)),{paletteAppClip:{output:c}}=Il((e=>e.runtime)),{t:d}=ht(),u=l.components.map(((e,t)=>{const{label:r,type:n,defaultValue:o,value:a}=e;return"number"===n||"text"===n?{label:r,type:"input",value:null!=a?a:o,onChange:r=>{s(sl(l)),s(Ol({index:t,value:{...e,value:r}}))}}:"switch"===n?{label:r,type:"switch",isChecked:"true"===(null!=a?a:o),onChange:r=>{s(sl(l)),s(Ol({index:t,value:{...e,value:r?"true":"false"}}))}}:"textarea"===n?{label:r,type:"textarea",value:null!=a?a:o,onChange:r=>{s(sl(l)),s(Ol({index:t,value:{...e,value:r}}))}}:{type:"input",label:"undefined",value:"none"}})),[p,h]=at.useState(!1);at.useEffect((()=>{p&&c&&(s(sl(l)),s(bl({...l.color,value:c})),h(!1))}),[null==c?void 0:c.toString()]);const g=null!==(t=null===(r=l.color)||void 0===r?void 0:r.value)&&void 0!==t?t:null===(n=l.color)||void 0===n?void 0:n.defaultValue;return a.jsxs(js,{isOpen:o,header:"Dummy header",alwaysOverlay:!0,children:[a.jsx(ks,{onClose:i,children:d("panel.details.header")}),a.jsxs(Cs,{children:[a.jsx(fs,{fields:u,minW:300}),l.color?a.jsx(os,{label:d("color"),children:a.jsx(ve,{"aria-label":d("color"),color:g[3],bg:g[2],size:"md",_hover:{bg:jc.fade(g[2],.7)},icon:a.jsx(hn,{}),onClick:()=>{h(!0),s(Qs(g))}})}):void 0]})]})}const Cc=e=>{const{isOpen:t,onClose:r,param:n,path:o,movedElem:i}=e,s=Ml(),{t:l}=ht(),[c,d]=at.useState(void 0),u=(e,t)=>a.jsx(Me,{p:5,width:"100%",children:e.map(((e,n)=>{if(Zl(e.type)&&[...t,n].toString()!==o.toString())return a.jsxs(Me,{width:"100%",children:[a.jsxs(se,{width:"100%",onClick:()=>{d([...t,n]),r()},children:[a.jsx(ae,{as:"span",fontWeight:"bold",children:e.label}),a.jsx(y,{mr:2}),a.jsxs(ae,{as:"span",children:["<",e.type,">"]})]}),e.children&&Zl(e.type)&&u(e.children,[...t,n])]},e.id)}))}),p=(e,t,r)=>{if(r+1>=t.length)return e.filter(((e,n)=>n!==t[r]));const n=p(e[t[r]].children,t,r+1);return e.filter(((e,n)=>n<t[r])).concat([{...e[t[r]],children:n}]).concat(e.filter(((e,n)=>n>t[r])))},h=(e,t,r)=>{if(r+1>=t.length){const n=structuredClone(e);return void 0!==n[t[r]].children?n[t[r]].children.push(i):n[t[r]].children=[i],n}const n=h(e[t[r]].children,t,r+1);return e.filter(((e,n)=>n<t[r])).concat([{...e[t[r]],children:n}]).concat(e.filter(((e,n)=>n>t[r])))};return at.useEffect((()=>{if(!t&&void 0!==c){console.log(o,c);const e=0===c.length?n.svgs.concat([i]):h(n.svgs,c,0);console.log(e);const t=p(e,o,0);console.log(t),s(xl(t)),d(void 0)}}),[t]),a.jsxs(Le,{isOpen:t,onClose:r,size:"md",scrollBehavior:"inside",children:[a.jsx(ee,{}),a.jsxs(Ae,{children:[a.jsxs(re,{children:[a.jsx(ae,{as:"b",fontSize:"xl",children:"Move"}),a.jsx(ne,{})]}),a.jsx(oe,{width:"100%",children:u(n.svgs,[])}),a.jsx(ie,{children:a.jsx(se,{colorScheme:"blue",variant:"outline",mr:"1",onClick:r,children:l("cancel")})})]})]})};function _c(){const e=Ml(),t=Il((e=>e.param)),{globalAlerts:r,selected:n}=Il((e=>e.runtime)),{t:o}=ht(),i=(r,n,o)=>{const a=(e,t,o)=>{if(r>=t.length){const t=r+n;return t>=0&&t<e.length?e.filter(((e,n)=>n<Math.min(r,t))).concat(e[Math.max(r,t)]).concat(e.filter(((e,n)=>n>Math.min(r,t)&&n<Math.max(r,t)))).concat(e[Math.min(r,t)]).concat(e.filter(((e,n)=>n>Math.max(r,t)))):e}const i=a(e[t[o]].children,t,o+1);return e.filter(((e,r)=>r<t[o])).concat([{...e[t[o]],children:i}]).concat(e.filter(((e,r)=>r>t[o])))};e(sl(t)),e(xl(a(t.svgs,o,0)))},s=(r,n,o,a)=>{const i=(e,t,r,n)=>{if(n>=a.length)return"attrs"===t?{...e,attrs:r}:{...e,[t]:r};const o=structuredClone(e.children);return o[a[n]]=i(e.children[a[n]],t,r,n+1),{...e,children:o}},s=structuredClone(t.svgs);s[a[0]]=i(s[a[0]],n,o,1),e(sl(t)),e(xl(s)),e(rl(r))},[l,c]=at.useState(!1),[d,u]=at.useState([]),[p,h]=at.useState(),[g,f]=at.useState([]);at.useEffect((()=>{const e=t.components.map((e=>({id:e.label,value:e.label})));t.color&&(e.push({id:"color[2]",value:"color[2]"}),e.push({id:"color[3]",value:"color[3]"})),e.push({id:"undefined",value:"undefined"}),f(e)}),[t.components,t.color]);const m=(l,d,p)=>l.toReversed().map(((f,v)=>{const b=l.length-v-1,x=[{label:o("panel.common.label"),type:"input",value:f.label,onChange:e=>s(f.id,"label",e,[...d,b])},{label:o("panel.common.type"),type:"input",value:f.type,onChange:e=>s(f.id,"type",e,[...d,b])},{label:o("panel.svgs.core"),type:"switch",isChecked:!!t.core&&t.core===f.id,onChange:t=>{e(Rl(t?f.id:void 0))},hidden:"Station"!==t.type},{label:"",type:"custom",oneLine:!0,component:a.jsxs(a.Fragment,{children:[a.jsx(se,{size:"md",onClick:()=>i(b,1,d),children:a.jsx(fn,{})}),a.jsx(se,{size:"md",onClick:()=>i(b,-1,d),children:a.jsx(gn,{})}),a.jsx(se,{size:"md",onClick:()=>{u([...d,b]),h(f),c(!0),e(sl(t))},children:a.jsx(un,{})}),a.jsx(se,{size:"md",onClick:()=>((r,n)=>{const o=(e,t)=>{if(t+1>=n.length)return e.filter(((e,r)=>r!==n[t]));const r=o(e[n[t]].children,t+1);return e.filter(((e,r)=>r<n[t])).concat([{...e[n[t]],children:0===r.length?void 0:r}]).concat(e.filter(((e,r)=>r>n[t])))};e(sl(t)),e(xl(o(t.svgs,0))),e(ol())})(f.id,[...d,b]),children:a.jsx(mn,{})})]})}],w=Object.entries(f.attrs).map((([e,t])=>{const r=t.startsWith("1")?"value":t.startsWith("2")?"var":"advanced",n=(e,t)=>"value"===e?`1"${t.slice(1)}"`:"var"===e?"2undefined":`3${t.slice(1)}`,i=[{label:o("panel.svgs.attrKey"),type:"input",value:e,onChange:r=>{const{[e]:n,...o}=f.attrs;s(f.id,"attrs",{...o,[r]:t},[...d,b])}},{label:o("panel.svgs.attrMode.title"),type:"select",options:{value:o("panel.svgs.attrMode.value"),var:o("panel.svgs.attrMode.var"),advanced:o("panel.svgs.attrMode.advanced")},value:r,onChange:r=>s(f.id,"attrs",{...f.attrs,[e]:n(r,t)},[...d,b])},{label:o("panel.svgs.attrValue"),type:"input",value:"value"===r?t.slice(2,-1):t.slice(1),onChange:t=>s(f.id,"attrs",{...f.attrs,[e]:n(r,"_"+t)},[...d,b]),hidden:"var"===r},{label:o("panel.svgs.attrValue"),type:"custom",component:a.jsx(Ai,{data:g,displayHandler:e=>e.value,filter:(e,t)=>t.id.toLowerCase().includes(e.toLowerCase())||Object.values(t.id).some((t=>t.toLowerCase().includes(e.toLowerCase()))),value:t.slice(1),onChange:t=>s(f.id,"attrs",{...f.attrs,[e]:"2"+t.value},[...d,b])}),hidden:"var"!==r},{label:"",type:"custom",oneLine:!0,component:a.jsx(se,{onClick:()=>{const{[e]:t,...r}=f.attrs;s(f.id,"attrs",{...r},[...d,b])},children:"-"})}];return a.jsx(fs,{fields:i},e)})),S=f.children?m(f.children,[...d,b],f.id):[],j=Zl(f.type)&&0===S.length&&!("_rmp_children_text"in f.attrs)?a.jsx(se,{width:"100%",onClick:()=>s(f.id,"attrs",{...f.attrs,_rmp_children_text:'1"value"'},[...d,b]),children:o("panel.svgs.addTextChildren")}):null;return a.jsxs(He,{children:[a.jsxs(Ge,{p:2,children:[a.jsx(Ue,{isChecked:n.has(f.id)||n.has(p),onChange:t=>{t.stopPropagation(),n.has(f.id)?(e(Ys(f.id)),n.has(p)&&e(Ys(p))):e(Ks(f.id))}}),a.jsx(y,{mr:2}),a.jsxs(y,{as:"span",flex:"1",textAlign:"left",children:[a.jsx(ae,{as:"span",fontWeight:"bold",children:f.label})," ",a.jsxs(ae,{as:"span",children:["<",f.type,">"]})]}),r.has(f.id)?a.jsx(an,{color:"#D9534F",title:r.get(f.id)}):"",a.jsx(Ke,{})]}),a.jsxs(Ye,{children:[a.jsx(fs,{fields:x}),...w,a.jsxs(Fe,{width:"100%",pb:2,children:[a.jsx(se,{width:"100%",onClick:()=>s(f.id,"attrs",{...f.attrs,new:'1"value"'},[...d,b]),children:"+"}),j]}),...S]})]},f.id)}));return a.jsxs(a.Fragment,{children:[a.jsxs(v,{width:"100%",height:"100%",direction:"column",overflow:"auto",children:[a.jsx(v,{p:2,children:a.jsx(De,{fontSize:"x-large",p:2,children:o("panel.svgs.title")})}),a.jsx(y,{width:"100%",height:"100%",overflow:"scroll",children:t.svgs.length>0?a.jsxs(We,{width:"100%",allowMultiple:!0,children:[...m(t.svgs,[],"id_@root")]}):a.jsxs(v,{height:"100%",width:"100%",justifyContent:"center",alignItems:"center",direction:"column",children:[a.jsxs(ae,{textAlign:"center",children:[o("panel.svgs.tipsA1"),a.jsx(se,{size:"sm",variant:"outline",m:1,children:a.jsx(pn,{})}),o("panel.svgs.tipsA2")]}),a.jsx("br",{}),a.jsxs(ae,{textAlign:"center",children:[o("panel.svgs.tipsB1"),a.jsx(se,{size:"sm",variant:"outline",leftIcon:mc[lc.Rect].icon,sx:{justifyContent:"flex-start",p:1,m:1,h:10},children:"Rectangle"}),o("panel.svgs.tipsB2")]})]})})]}),a.jsx(Cc,{isOpen:l,onClose:()=>c(!1),param:t,path:d,movedElem:p})]})}var Oc;!function(e){e.black="#000",e.white="#fff"}(Oc||(Oc={}));const Rc={text:"text",textarea:"textarea",number:"number",switch:"switch"},Pc={id:"color",label:"color",type:"color",defaultValue:["beijing","bj1","#c23a30",Oc.white]};function Lc(){const e=Ml(),t=Il((e=>e.param)),{t:r}=ht(),n=[{label:r("panel.common.label"),type:"input",value:t.label,onChange:t=>e(ml(t))},{label:r("panel.common.type"),type:"select",options:{MiscNode:"MiscNode",Station:"Station"},value:t.type,onChange:t=>e(yl(t)),minW:100},{label:r("color"),type:"switch",isChecked:!!t.color,onChange:t=>e(bl(t?Pc:void 0))}];return a.jsx(fs,{fields:n})}function Ac(){const e=Ml(),t=Il((e=>e.param)),{paletteAppClip:{output:r}}=Il((e=>e.runtime)),{t:n}=ht(),o=(r,n)=>{const o=r+n;o>=0&&o<t.components.length&&(e(sl(t)),e(kl(t.components.filter(((e,t)=>t<Math.min(r,o))).concat(t.components[Math.max(r,o)]).concat(t.components.filter(((e,t)=>t>Math.min(r,o)&&t<Math.max(r,o)))).concat(t.components[Math.min(r,o)]).concat(t.components.filter(((e,t)=>t>Math.max(r,o)))))))},i=t.components.map(((r,i)=>{const{id:s,label:l,type:c,defaultValue:d}=r,u=[{label:n("panel.common.label"),type:"input",value:l,onChange:n=>{e(sl(t)),e(Ol({index:i,value:{...r,label:n.replaceAll(" ","")}})),e(ol())}},{label:n("panel.common.type"),type:"select",options:Rc,value:c,onChange:n=>{e(sl(t)),e(Ol({index:i,value:{...r,type:n}}))}},{label:n("panel.components.defaultValue"),type:"input",value:d,onChange:n=>{e(sl(t)),e(Ol({index:i,value:{...r,defaultValue:n}}))},hidden:"switch"===c},{label:n("panel.components.defaultValue"),type:"switch",isChecked:d,onChange:n=>{e(sl(t)),e(Ol({index:i,value:{...r,defaultValue:n}}))},hidden:"switch"!==c},{label:"",type:"custom",oneLine:!0,component:a.jsxs(a.Fragment,{children:[a.jsx(se,{size:"md",onClick:()=>o(i,-1),children:a.jsx(fn,{})}),a.jsx(se,{size:"md",onClick:()=>o(i,1),children:a.jsx(gn,{})}),a.jsx(se,{size:"md",onClick:()=>{e(sl(t)),e(_l(i))},children:a.jsx(mn,{})})]})}];return a.jsxs(He,{children:[a.jsxs(Ge,{p:2,children:[a.jsx(y,{as:"span",flex:"1",textAlign:"left",children:l}),a.jsx(Ke,{})]}),a.jsx(Ye,{children:a.jsx(fs,{fields:u})})]},s)})),[s,l]=at.useState(!1);return at.useEffect((()=>{s&&r&&(e(sl(t)),e(bl({...t.color,defaultValue:r})),l(!1))}),[null==r?void 0:r.toString()]),a.jsxs(v,{width:"100%",height:"100%",direction:"column",overflow:"auto",children:[a.jsxs(v,{p:2,children:[a.jsx(De,{p:2,fontSize:"x-large",width:"100%",children:n("panel.components.title")}),a.jsx(se,{onClick:()=>{e(sl(t)),e(Cl({id:Dl(),label:Dl(),type:"text",defaultValue:"text"}))},children:"+"})]}),a.jsx(y,{width:"100%",height:"100%",overflow:"scroll",children:i.length>0||t.color?a.jsxs(We,{width:"100%",allowMultiple:!0,children:[...i,t.color?a.jsxs(He,{children:[a.jsxs(Ge,{p:2,children:[a.jsx(y,{as:"span",flex:"1",textAlign:"left",children:n("color")}),a.jsx(Ke,{})]}),a.jsx(Ye,{children:a.jsx(os,{label:n("panel.components.defaultColor"),children:a.jsx(ve,{"aria-label":n("color"),color:t.color.defaultValue[3],bg:t.color.defaultValue[2],size:"md",_hover:{bg:jc.fade(t.color.defaultValue[2],.7)},icon:a.jsx(hn,{}),onClick:()=>{var r;l(!0),e(Qs(null===(r=t.color)||void 0===r?void 0:r.defaultValue))}})})})]},"color"):void 0]}):a.jsx(v,{height:"100%",width:"100%",justifyContent:"center",alignItems:"center",children:a.jsxs(ae,{textAlign:"center",children:[n("panel.components.tips1")," ",a.jsx(se,{size:"sm",children:"+"})," ",n("panel.components.tips2")]})})})]})}const Ec=e=>{const{isOpen:t,onClose:r,errorList:n}=e,{t:o}=ht();return a.jsxs(Le,{isOpen:t,onClose:r,size:"2xl",scrollBehavior:"inside",children:[a.jsx(ee,{}),a.jsxs(Ae,{children:[a.jsx(re,{}),a.jsx(oe,{children:a.jsx(Je,{children:a.jsxs(Xe,{variant:"striped",colorScheme:"orange",children:[a.jsx(qe,{children:a.jsxs(Qe,{children:[a.jsx(Ze,{children:"Error Code"}),a.jsx(Ze,{children:"Error Message"})]})}),a.jsx(et,{children:n.map(((e,t)=>a.jsxs(Qe,{children:[a.jsx(tt,{children:e[0]}),a.jsx(tt,{children:e[1]})]},t)))})]})})}),a.jsx(ie,{children:a.jsx(se,{colorScheme:"blue",variant:"outline",mr:"1",onClick:r,children:o("close")})})]})]})},Mc="rmg-palette-bridge--",Ic={position:"relative",h:460,maxH:"70%","& > button":{position:"absolute",right:1,top:1},"& iframe":{h:"100%",w:"100%"}};function zc(e){const{isOpen:t,onClose:r,defaultTheme:n,onSelect:o}=e,[i]=at.useState(crypto.randomUUID()),[s,l]=at.useState(!1),c="/rmg-palette/#/picker?"+new URLSearchParams({parentComponent:Yr.getAppName(),parentId:i}),d=at.useRef();return at.useEffect((()=>{const e=new BroadcastChannel(Mc+i);return d.current=e,e.onmessage=e=>{const{event:t,data:n}=e.data;console.log("[rmp] Received event from Palette app clip:",t),"CLOSE"===t?r():"SELECT"===t?o(n):"LOADED"===t&&l(!0)},()=>{e.close()}}),[]),at.useEffect((()=>{var e;n&&(null===(e=d.current)||void 0===e||e.postMessage({event:"OPEN",data:n}))}),[s,null==n?void 0:n.toString()]),a.jsxs(Hn,{size:"md",isOpen:t,onClose:r,sx:Ic,children:[a.jsx(je,{onClick:r}),a.jsx("iframe",{src:c,loading:"eager"})]})}function Tc(){var e,t;const{t:r}=ht(),n=Ml(),o=Il((e=>e.param)),{paletteAppClip:{input:i},globalAlerts:s}=Il((e=>e.runtime)),[l,c]=at.useState(!1),[d,u]=at.useState(!1),[p,h]=at.useState(!1),g=sc(),f=3*((null!==(e=g.height)&&void 0!==e?e:720)-40)/5,[m,y]=at.useState([]);return at.useEffect((()=>{y(((e,t)=>{const r=[];return"Station"!==t.type||t.core||r.push(["Configuration","A station need to be connected."]),e.forEach(((e,t)=>{r.push([t,e])})),r})(s,o))}),[s,o]),a.jsx($s,{children:a.jsxs(ys,{children:[a.jsx(ic,{}),a.jsxs(xs,{children:[a.jsxs(ts,{allowReset:!0,children:[a.jsxs(v,{direction:"row",height:f,overflow:"hidden",sx:{position:"relative"},children:[a.jsx(yc,{}),a.jsx(Sc,{}),a.jsx(kc,{isOpen:l,onClose:()=>c(!1)})]}),a.jsxs(v,{height:(null!==(t=g.height)&&void 0!==t?t:720)-40-f,direction:"column",overflow:"hidden",children:[a.jsx(v,{p:2,direction:"row",overflow:"hidden",sx:{position:"relative"},children:a.jsxs(Fe,{width:"100%",children:[a.jsx(Lc,{}),a.jsx(se,{onClick:()=>u(!0),isDisabled:m.length>0,children:r("header.export.export")}),m.length>0&&a.jsxs(se,{onClick:()=>h(!0),children:[a.jsx(on,{}),m.length]}),a.jsx(rt,{}),a.jsx(se,{hidden:l,onClick:()=>c(!0),children:r("panel.details.header")})]})}),a.jsxs(v,{direction:"row",height:"100%",overflow:"auto",sx:{position:"relative"},children:[a.jsx(_c,{}),a.jsx(Ac,{})]})]}),a.jsx(rc,{isOpen:d,onClose:()=>u(!1)}),a.jsx(Ec,{isOpen:p,onClose:()=>h(!1),errorList:m})]}),a.jsx(zc,{isOpen:!!i,onClose:()=>n(Zs()),defaultTheme:i,onSelect:e=>n(el(e))})]})]})})}var Nc={en:{},"zh-Hans":{Action:"",Apps:"","Back to list":"","Background colour":"",Black:"",Cancel:"",City:"",Components:"","Configuration file":"",Confirm:"",Continue:"","Country/Region":"/",Copy:"",Edit:"","Foreground colour":"","Go back":"",Language:"/Language",Justification:"",Name:"",Next:"",Open:"",Palette:"","Please select...":"...",Previous:"","Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:"",Reset:"","RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:"",Submit:"",Translate:"",Upload:"",White:""},"zh-Hant":{Action:"",Apps:"","Back to list":"","Background colour":"",Black:"",Cancel:"",City:"",Components:"","Configuration file":"",Confirm:"",Continue:"",Copy:"","Country/Region":"/",Edit:"","Foreground colour":"","Go back":"",Language:"/Language",Justification:"",Name:"",Next:"",Open:"",Palette:"","Please select...":"...",Previous:"","Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:"",Reset:"","RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:"",Submit:"",Translate:"",Upload:"",White:""},ja:{Language:"/Language",Palette:"","Rail Map Generator":"","Rail Map Toolkit":"",Remove:"","RMG Templates":"RMG "},ko:{Action:"",Apps:"","Back to list":" ","Background colour":"",Black:"",Cancel:"",City:"",Components:"","Configuration file":"  ",Confirm:"",Copy:"","Country/Region":"/",Edit:"","Foreground colour":"","Go back":"",Language:"/Language",Justification:"",Name:"",Next:"",Open:"",Palette:"","Please select...":"",Previous:"","Rail Map Generator":"  ","Rail Map Painter":"  ","Rail Map Toolkit":" ",Remove:"",Reset:"","RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":" ",Settings:"",Submit:"",Translate:"",Upload:"",White:""}};const Bc={color:"Color",warning:"Warning",cancel:"Cancel",apply:"Apply",remove:"Remove",close:"Close",header:{about:{title:"About RMP Designer",intro:"A RMP master node designer, enabling the addition of any SVG to RMP."},import:{new:"New",pasteSVG:"Paste SVG",uploadParam:"Upload project",uploadSVG:"Upload SVG"},export:{preview:"Preview",showLines:"Show RMP lines",showBadges:"Show RMP badges",offsetX:"Offset X",offsetY:"Offset Y",scale:"Scale",rotate:"Rotate",export:"Export",download:"Download"},settings:{title:"Settings",canvasBackground:{label:"Canvas background color",auto:"Automatic",white:"Light",dark:"Dark"}}},panel:{tools:{showLess:"Show less"},details:{header:"RMP Details Panel"},svgs:{title:"SVG Components",core:"Connectable",attrKey:"Attributes key",attrValue:"Attributes value",addTextChildren:"Add text content",attrMode:{title:"Attributes mode",value:"Value",var:"Variable",advanced:"Advanced"},tips1:"Click left side icon",tips2:"and then click the canvas to add a SVG component."},components:{title:"Variables",defaultValue:"Default value",defaultColor:"Default color",tipsA1:"Click the upper right corner",tipsA2:"to upload your SVG graphic",tipsB1:"Click",tipsB2:"to add a variable."},common:{type:"Type",label:"Label"}}},$c={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",header:{about:{title:" RMP ",intro:" RMP  SVG  RMP"},import:{new:"",pasteSVG:" SVG",uploadParam:"",uploadSVG:" SVG"},export:{preview:"",showLines:" RMP ",showBadges:" RMP ",offsetX:" X",offsetY:" Y",scale:"",rotate:"",export:"",download:""},settings:{title:"",canvasBackground:{label:"",auto:"",white:"",dark:""}}},panel:{tools:{showLess:""},details:{header:"RMP "},svgs:{title:"SVG ",core:"",attrKey:"",attrValue:"",addTextChildren:"",attrMode:{title:"",value:"",var:"",advanced:""},tipsA1:"",tipsA2:" SVG ",tipsB1:"",tipsB2:" SVG "},components:{title:"",defaultValue:"",defaultColor:"",tips1:"",tips2:""},common:{type:"",label:""}}},Vc={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",header:{about:{title:" RMP ",intro:" RMP  SVG  RMP"},import:{new:"",pasteSVG:" SVG",uploadParam:"",uploadSVG:" SVG"},export:{preview:"",showLines:" RMP ",showBadges:" RMP ",offsetX:" X",offsetY:" Y",scale:"",rotate:"",export:"",download:""},settings:{title:"",canvasBackground:{label:"",auto:"",white:"",dark:""}}},panel:{tools:{showLess:""},details:{header:"RMP "},svgs:{title:"SVG ",core:"",attrKey:"",attrValue:"",addTextChildren:"",attrMode:{title:"",value:"",var:"",advanced:""},tipsA1:"",tipsA2:" SVG ",tipsB1:"",tipsB2:" SVG "},components:{title:"",defaultValue:"",defaultColor:"",tips1:"",tips2:""},common:{type:"",label:""}}},Dc={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",header:{about:{title:"RMP ",intro:"RMPRMPSVG"},import:{new:"",pasteSVG:"SVG",uploadParam:"",uploadSVG:"SVG"},export:{preview:"",showLines:"RMP",showBadges:"RMP",offsetX:"X",offsetY:"Y",scale:"",rotate:"",export:"",download:""},settings:{title:"",canvasBackground:{label:"",auto:"",white:"",dark:""}}},panel:{tools:{showLess:""},details:{header:"RMP"},svgs:{title:"SVG",core:"",attrKey:"",attrValue:"",addTextChildren:"",attrMode:{title:"",value:"",var:"",advanced:""},tipsA1:"",tipsA2:"SVG",tipsB1:"",tipsB2:"SVG"},components:{title:"",defaultValue:"",defaultColor:"",tips1:"",tips2:""},common:{type:"",label:""}}},Fc={color:"",warning:"",cancel:"",apply:"",remove:"",close:"",header:{about:{title:"RMP  ",intro:"RMP   , RMP  SVG   ."},import:{new:" ",pasteSVG:"SVG ",uploadParam:" ",uploadSVG:"SVG "},export:{preview:"",showLines:"RMP  ",showBadges:"RMP  ",offsetX:" X",offsetY:" Y",scale:" ",rotate:"",export:"",download:""},settings:{title:"",canvasBackground:{label:" ",auto:"",white:"",dark:""}}},panel:{tools:{showLess:" "},details:{header:"RMP   "},svgs:{title:"SVG  ",core:" ",attrKey:" ",attrValue:" ",addTextChildren:"  ",attrMode:{title:" ",value:"",var:"",advanced:""},tipsA1:"  ",tipsA2:"SVG  ",tipsB1:"  ",tipsB2:"    SVG   "},components:{title:"",defaultValue:" ",defaultColor:" ",tips1:"",tips2:" ."},common:{type:"",label:""}}},Wc=(new Yr.I18nBuilder).use(gt).withAppName("RMP Designer").withLng(Yr.getLanguage()).withDefaultResource(Nc).withResource("en",Bc).withResource("zh-Hans",$c).withResource("zh-Hant",Vc).withResource("ja",Dc).withResource("ko",Fc).build();let Hc;Yr.ready().then((()=>{Hc=Jr(document.getElementById("root")),Hc.render(a.jsx(ot.StrictMode,{children:a.jsx(ft,{store:El,children:a.jsx(mt,{i18n:Wc,children:a.jsx(Tc,{})})})})),Yr.injectUITools(),Yr.event(hl.APP_LOAD,{})}));const Gc=localStorage.getItem("rmp-designer__app"),Uc=localStorage.getItem("rmp-designer__param");null!==Gc&&El.dispatch(Fs(JSON.parse(Gc))),Gl(Uc).then((e=>{El.dispatch(fl(JSON.parse(e)))}))}}}));
